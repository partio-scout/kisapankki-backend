{"version":3,"sources":["components/Notification.js","services/login.js","components/Login.js","services/signup.js","components/SignUp.js","App.js","index.js"],"names":["Notification","message","className","baseUrl","process","credentials","a","async","axios","post","response","data","Login","setUser","setShowLogin","useState","errorMessage","setErrorMessage","username","setUsername","password","setPassword","onSubmit","event","preventDefault","loginService","user","window","localStorage","setItem","JSON","stringify","setTimeout","type","value","name","placeholder","onChange","target","console","log","SignUp","setShowSignUp","setName","key","setKey","signupService","App","showLogin","showSignUp","useEffect","loggedUserJSON","getItem","parse","onClick","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06927793.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = `${process.env.REACT_APP_API_URL}/login`\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }\r\n","import React, { useState } from 'react'\r\nimport Notification from './Notification'\r\nimport loginService from '../services/login'\r\n\r\nconst Login = ({ setUser, setShowLogin }) => {\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('') \r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username, password,\r\n      })\r\n      window.localStorage.setItem(\r\n        'loggedUser', JSON.stringify(user)\r\n      )\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n      setShowLogin(false)\r\n    } catch (exception) {\r\n      setErrorMessage('Väärä käyttäjätunnus/salasana')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-form\">\r\n      <h2>Kirjaudu sisään</h2>\r\n      <Notification message={errorMessage} />\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <input\r\n            className=\"username\"\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"Username\"\r\n            placeholder=\"Käyttäjätunnus\"\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            className=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            placeholder=\"Salasana\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"login-button\">Kirjaudu</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = `${process.env.REACT_APP_API_URL}/signup`\r\n\r\nconst signup = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  console.log(baseUrl)\r\n  return response.data\r\n}\r\n\r\nexport default { signup }\r\n","import React, { useState } from 'react'\r\nimport Notification from './Notification'\r\nimport signupService from '../services/signup'\r\n\r\nconst SignUp = ({ setUser, setShowSignUp }) => {\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [name, setName] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [key, setKey] = useState('')\r\n\r\n  const handleSignUp = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await signupService.signup({\r\n        name, username, password, key,\r\n      })\r\n      window.localStorage.setItem(\r\n        'loggedUser', JSON.stringify(user)\r\n      )\r\n      setUser(user)\r\n      setName('')\r\n      setUsername('')\r\n      setPassword('')\r\n      setKey('')\r\n      setShowSignUp(false)\r\n    } catch (exception) {\r\n      setErrorMessage('Jotain meni vikaan')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"signup-form\">\r\n      <h2>Rekisteröidy</h2>\r\n      <Notification message={errorMessage} />\r\n      <form onSubmit={handleSignUp}>\r\n        <div>\r\n          <input\r\n            className=\"name\"\r\n            type=\"text\"\r\n            value={name}\r\n            name=\"Name\"\r\n            placeholder=\"Nimi\"\r\n            onChange={({ target }) => setName(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            className=\"username\"\r\n            type=\"text\"\r\n            value={username}\r\n            name=\"Username\"\r\n            placeholder=\"Käyttäjätunnus\"\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            className=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            name=\"Password\"\r\n            placeholder=\"Salasana\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            className=\"key\"\r\n            type=\"text\"\r\n            value={key}\r\n            name=\"Key\"\r\n            placeholder=\"Avain\"\r\n            onChange={({ target }) => setKey(target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"signup-button\">Rekisteröidy</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport Login from './components/Login'\r\nimport SignUp from './components/SignUp'\r\n\r\nconst App = () => {\r\n\r\n  const [ user, setUser ] = useState(null)\r\n  const [ showLogin, setShowLogin ] = useState(false)\r\n  const [ showSignUp, setShowSignUp ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n    }\r\n  }, [])\r\n\r\n  const loginForm = () => {\r\n    setShowLogin(!showLogin)\r\n    setShowSignUp(false)\r\n  }\r\n\r\n  const signUpForm = () => {\r\n    setShowSignUp(!showSignUp)\r\n    setShowLogin(false)\r\n  }\r\n\r\n  const logout = () => {\r\n    window.localStorage.removeItem('loggedUser')\r\n    setUser(null)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"header\">\r\n        <div className=\"logo\"></div>\r\n        {user === null ?\r\n          <Fragment>\r\n            <button className=\"login-button-header\" onClick={() => loginForm()}>Kirjaudu</button>\r\n            <button className=\"signup-button-header\" onClick={() => signUpForm()}>Rekisteröidy</button>\r\n          </Fragment>\r\n          :\r\n          <div>\r\n            <div className=\"logged\">Kirjautuneena {user.username}</div>\r\n            <div className=\"logout\"><button className=\"logout-button-header\" onClick={() => logout()}>Kirjaudu ulos</button></div>\r\n          </div>\r\n        }\r\n      </div>\r\n      <div className=\"container\">\r\n        <h1>Kisatehtäväpankki</h1>\r\n        {showLogin && <Login setUser={setUser} setShowLogin={setShowLogin} />}\r\n        {showSignUp && <SignUp setUser={setUser} setShowSignUp={setShowSignUp} />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}