(this.webpackJsonpkisapankki=this.webpackJsonpkisapankki||[]).push([[0],{128:function(e,t,a){e.exports=a(377)},376:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),u=a(9),s=a(1),i=a(22),o=a(2),m=a.n(o),p=function(e){var t=e.message,a=e.type;return null===t?null:r.a.createElement("div",{className:a},t)},d=a(6),v=a.n(d),b="".concat("/api","/login"),f=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(v.a.post(b,e));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},E=null,h=function(){return E},j=function(e){E="bearer ".concat(e)},g=function(e){var t=e.setUser,a=Object(n.useState)(null),c=Object(s.a)(a,2),l=c[0],u=c[1],o=Object(n.useState)(""),d=Object(s.a)(o,2),v=d[0],b=d[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),g=h[0],O=h[1],y=Object(i.f)();return r.a.createElement("div",{className:"login-form"},r.a.createElement("h2",null,"Kirjaudu sis\xe4\xe4n"),r.a.createElement(p,{message:l,type:"error"}),r.a.createElement("form",{onSubmit:function(e){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,m.a.awrap(f({username:v,password:g}));case 4:a=n.sent,window.localStorage.setItem("loggedUser",JSON.stringify(a)),t(a),j(a.token),b(""),O(""),y.push("/"),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),u("V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4tunnus/salasana"),setTimeout((function(){u(null)}),5e3);case 17:case"end":return n.stop()}}),null,null,[[1,13]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"username",type:"text",value:v,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return b(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"password",type:"password",value:g,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return O(t.value)}})),r.a.createElement("button",{type:"submit",className:"login-button"},"Kirjaudu")))},O="".concat("/api","/task"),y="".concat("/api","/task/pending"),k=function(e){var t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=null,(a=h())&&(t={headers:{Authorization:a}}),r.next=5,m.a.awrap(v.a.post(O,e,t));case 5:return n=r.sent,r.abrupt("return",n.data);case 7:case"end":return r.stop()}}))},S=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.get(O));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},x=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(v.a.get("".concat(O,"/").concat(e)));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},N=function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(v.a.post("".concat(O,"/search"),e));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},w=function(e){var t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=null,(a=h())&&(t={headers:{Authorization:a}}),r.next=5,m.a.awrap(v.a.put("".concat(O,"/").concat(e.id),e,t));case 5:return n=r.sent,r.abrupt("return",n.data);case 7:case"end":return r.stop()}}))},T=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.delete("".concat(O,"/").concat(e),t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},C=function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h()}},a.next=3,m.a.awrap(v.a.get(y,e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))},M=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.put("".concat(O,"/").concat(e,"/accept"),e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},L="".concat("/api","/series"),D=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.post(L,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},K=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.get(L));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},A="".concat("/api","/rule"),J=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.post(A,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},V=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.get(A));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},U="".concat("/api","/category"),I=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.post(U,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},P=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.get(U));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},z=a(44),H=function(e){var t=e.setTasks,a=e.setAllTasks,c=Object(n.useState)(""),l=Object(s.a)(c,2),u=l[0],i=l[1],o=Object(n.useState)(""),d=Object(s.a)(o,2),v=d[0],b=d[1];return r.a.createElement("div",null,r.a.createElement(p,{message:v,type:"error"}),r.a.createElement("form",{onSubmit:function(e){var n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,m.a.awrap(N({search:u}));case 4:n=r.sent,t(n),a(n),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),b("Haku ei onnistunut"),setTimeout((function(){b(null)}),5e3);case 13:case"end":return r.stop()}}),null,null,[[1,9]])},className:"search-form"},r.a.createElement("input",{className:"search-input",type:"text",defaultValue:"",name:"search",placeholder:"Hakutermi",onChange:function(e){var t=e.target;return i(t.value)}}),r.a.createElement("button",{type:"submit",className:"search-tasks-button"},"Hae")))},_=function(e){var t=e.user,a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)([]),d=Object(s.a)(o,2),v=d[0],b=d[1],f=Object(n.useState)(null),E=Object(s.a)(f,2),h=E[0],j=E[1],g=Object(n.useState)(""),O=Object(s.a)(g,2),y=O[0],k=O[1],x=Object(n.useState)(""),N=Object(s.a)(x,2),w=N[0],C=N[1],M=Object(n.useState)(""),L=Object(s.a)(M,2),D=L[0],A=L[1],J=Object(n.useState)([]),U=Object(s.a)(J,2),I=U[0],_=U[1],R=Object(n.useState)([]),F=Object(s.a)(R,2),B=F[0],Y=F[1],q=Object(n.useState)([]),G=Object(s.a)(q,2),Q=G[0],W=G[1],X=Object(n.useState)(!0),Z=Object(s.a)(X,2),$=Z[0];Z[1];Object(n.useEffect)((function(){S().then((function(e){b(e),i(e)})),P().then((function(e){_(e)})),K().then((function(e){Y(e)})),V().then((function(e){W(e)}))}),[]),Object(n.useEffect)((function(){if(w&&y&&D){for(var e=[],t=0;t<l.length;t++)for(var a=0;a<l[t].series.length;a++)l[t].series[a].id===w.id&&l[t].category.id===y.id&&l[t].rules.id===D.id&&e.push(l[t]);b(e)}else if(w&&y){for(var n=[],r=0;r<l.length;r++)for(var c=0;c<l[r].series.length;c++)l[r].series[c].id===w.id&&l[r].category.id===y.id&&n.push(l[r]);b(n)}else if(w&&D){for(var u=[],s=0;s<l.length;s++)for(var i=0;i<l[s].series.length;i++)l[s].series[i].id===w.id&&l[s].rules.id===D.id&&u.push(l[s]);b(u)}else if(y&&D)b(l.filter((function(e){return e.category.id===y.id&&e.rules.id===D.id})));else if(w){for(var o=[],m=0;m<l.length;m++)for(var p=0;p<l[m].series.length;p++)l[m].series[p].id===w.id&&o.push(l[m]);b(o)}else b(y?l.filter((function(e){return e.category.id===y.id})):D?l.filter((function(e){return e.rules.id===D.id})):l)}),[y,w,D]);return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Kisateht\xe4v\xe4pankki"),r.a.createElement("div",{className:"search-filter-container"},r.a.createElement("div",{className:"search"},r.a.createElement(H,{setTasks:b,setAllTasks:i})),r.a.createElement("div",{className:"filter"},r.a.createElement(z.a,{name:"filter-series",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e?C(e):(C(""),b(l))},options:B,isClearable:$,placeholder:"Sarja"})),r.a.createElement("div",{className:"filter"},r.a.createElement(z.a,{name:"filter-category",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e?k(e):(k(""),b(l))},options:I,isClearable:$,placeholder:"Kategoria"})),r.a.createElement("div",{className:"filter"},r.a.createElement(z.a,{name:"filter-rules",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e?A(e):(A(""),b(l))},options:Q,isClearable:$,placeholder:"S\xe4\xe4nn\xf6t"}))),r.a.createElement(p,{message:h}),v&&v.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),t&&r.a.createElement("span",null)),v.map((function(e){return r.a.createElement("div",{className:"task-list-item",key:e.id},r.a.createElement("span",null,r.a.createElement(u.b,{to:"/tehtava/".concat(e.id)},e.name)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category.name),t&&r.a.createElement("span",null,r.a.createElement("button",{className:"delete-button",onClick:function(){return function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(T(e.id));case 3:b(v.filter((function(t){return t.id!==e.id}))),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),j("Jotain meni vikaan"),setTimeout((function(){j(null)}),5e3);case 10:case"end":return t.stop()}}),null,null,[[0,6]])}(e)}},"Poista")))})))},R="".concat("/api","/user"),F=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.post(R,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},B=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.get(R));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},Y=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.put(R,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},q=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),i=u[0],o=u[1],d=Object(n.useState)(null),v=Object(s.a)(d,2),b=v[0],f=v[1],E=Object(n.useState)(null),h=Object(s.a)(E,2),j=h[0],g=h[1],O=Object(n.useState)(null),y=Object(s.a)(O,2),k=y[0],S=y[1],x=Object(n.useState)(""),N=Object(s.a)(x,2),w=N[0],T=N[1],C=Object(n.useState)(""),M=Object(s.a)(C,2),L=M[0],D=M[1],K=Object(n.useState)(""),A=Object(s.a)(K,2),J=A[0],V=A[1],U=Object(n.useState)([]),I=Object(s.a)(U,2),P=I[0],z=I[1];Object(n.useEffect)((function(){B().then((function(e){z(e)}))}),[]);return r.a.createElement("div",{className:"signup-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 yll\xe4pit\xe4j\xe4"),r.a.createElement(p,{message:a,type:"success"}),r.a.createElement(p,{message:i,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),f(null),g(null),S(null),w.length<3&&f("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),L.length<3&&g("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),J.length<3&&S("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),P.some((function(e){return e.username===L}))&&g("K\xe4ytt\xe4j\xe4tunnus on varattu"),!(w.length<3||L.length<3||J.length<3||P.some((function(e){return e.username===L})))){t.next=10;break}return t.abrupt("return");case 10:return t.prev=10,t.next=13,m.a.awrap(F({name:w,username:L,password:J}));case 13:T(""),D(""),V(""),c("Yll\xe4pit\xe4j\xe4 lis\xe4tty!"),setTimeout((function(){c(null)}),5e3),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(10),o("Lis\xe4\xe4minen ep\xe4onnistui"),setTimeout((function(){o(null)}),5e3);case 24:case"end":return t.stop()}}),null,null,[[10,20]])}},r.a.createElement("div",null,r.a.createElement(p,{message:b,type:"error"}),r.a.createElement("input",{className:"name",type:"text",value:w,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return T(t.value)}})),r.a.createElement("div",null,r.a.createElement(p,{message:j,type:"error"}),r.a.createElement("input",{className:"username",type:"text",value:L,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return D(t.value)}})),r.a.createElement("div",null,r.a.createElement(p,{message:k,type:"error"}),r.a.createElement("input",{className:"password",type:"password",value:J,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return V(t.value)}})),r.a.createElement("button",{type:"submit",className:"signup-button"},"Lis\xe4\xe4")))},G=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),i=u[0],o=u[1];return r.a.createElement("div",{className:"rule-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 s\xe4\xe4nt\xf6"),r.a.createElement(p,{message:i,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,m.a.awrap(J({rules:a}));case 4:c(""),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),o("Jotain meni vikaan"),setTimeout((function(){o(null)}),5e3);case 11:case"end":return t.stop()}}),null,null,[[1,7]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"rule",type:"text",value:a,name:"Rules",placeholder:"S\xe4\xe4nt\xf6",onChange:function(e){var t=e.target;return c(t.value)}})),r.a.createElement("button",{type:"submit",className:"task-add-button"},"Lis\xe4\xe4")))},Q="".concat("/api","/language"),W=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:h()}},n.next=3,m.a.awrap(v.a.post(Q,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},X=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.get(Q));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},Z=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),i=u[0],o=u[1];return r.a.createElement("div",{className:"language-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 kieli"),r.a.createElement(p,{message:i,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,m.a.awrap(W({language:a}));case 4:c(""),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),o("Kielen lis\xe4\xe4minen ei onnistunut"),setTimeout((function(){o(null)}),5e3);case 11:case"end":return t.stop()}}),null,null,[[1,7]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"language",type:"text",value:a,name:"Language",placeholder:"Kieli",onChange:function(e){var t=e.target;return c(t.value)}})),r.a.createElement("button",{type:"submit",className:"language-add-button"},"Lis\xe4\xe4")))},$=a(125),ee=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("#ffffff"),u=Object(s.a)(l,2),i=u[0],o=u[1],d=Object(n.useState)(null),v=Object(s.a)(d,2),b=v[0],f=v[1];return r.a.createElement("div",{className:"series-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 sarja"),r.a.createElement(p,{message:b,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,m.a.awrap(D({name:a,color:i}));case 4:c(""),o(""),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),f("Jotain meni vikaan"),setTimeout((function(){f(null)}),5e3);case 12:case"end":return t.stop()}}),null,null,[[1,8]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"name",type:"text",value:a,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return c(t.value)}})),r.a.createElement("div",{className:"color-picker"},r.a.createElement($.CirclePicker,{color:i,onChangeComplete:function(e){return o(e.hex)}})),r.a.createElement("button",{type:"submit",className:"series-submit-button"},"Lis\xe4\xe4")))},te=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),i=u[0],o=u[1];return r.a.createElement("div",{className:"category-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 kategoria"),r.a.createElement(p,{message:i,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,m.a.awrap(I({category:a}));case 4:c(""),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),o("Jotain meni vikaan"),setTimeout((function(){o(null)}),5e3);case 11:case"end":return t.stop()}}),null,null,[[1,7]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"category",type:"text",value:a,name:"Category",placeholder:"Kategoria",onChange:function(e){var t=e.target;return c(t.value)}})),r.a.createElement("button",{type:"submit",className:"category-add-button"},"Lis\xe4\xe4")))},ae=function(){return r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(Z,null),r.a.createElement(ee,null),r.a.createElement(te,null))},ne=a(126),re=a.n(ne),ce=a(127),le=a.n(ce),ue=(a(375),function(e){var t=e.setText,a=e.placeholder,n=e.setMD,c=e.value,l=new re.a;return r.a.createElement(le.a,{value:c,placeholder:a,renderHTML:function(e){return l.render(e)},onChange:function(e){var a=e.html,r=e.text;t(a),n(r)}})}),se=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),i=u[0],o=u[1],d=Object(n.useState)(""),v=Object(s.a)(d,2),b=v[0],f=v[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),j=h[0],g=h[1],O=Object(n.useState)(""),y=Object(s.a)(O,2),S=y[0],x=y[1],N=Object(n.useState)(""),w=Object(s.a)(N,2),T=w[0],C=w[1],M=Object(n.useState)(""),L=Object(s.a)(M,2),D=L[0],A=L[1],J=Object(n.useState)(""),U=Object(s.a)(J,2),I=U[0],z=U[1],H=Object(n.useState)(""),_=Object(s.a)(H,2),R=_[0],F=_[1],B=Object(n.useState)([]),Y=Object(s.a)(B,2),q=Y[0],G=Y[1],Q=Object(n.useState)(""),W=Object(s.a)(Q,2),Z=W[0],$=W[1],ee=Object(n.useState)([]),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),ce=Object(s.a)(re,2),le=ce[0],se=ce[1],ie=Object(n.useState)([]),oe=Object(s.a)(ie,2),me=oe[0],pe=oe[1],de=Object(n.useState)([]),ve=Object(s.a)(de,2),be=ve[0],fe=ve[1],Ee=Object(n.useState)([]),he=Object(s.a)(Ee,2),je=he[0],ge=he[1],Oe=Object(n.useState)(""),ye=Object(s.a)(Oe,2),ke=ye[0],Se=ye[1],xe=Object(n.useState)(""),Ne=Object(s.a)(xe,2),we=Ne[0],Te=Ne[1],Ce=Object(n.useState)(""),Me=Object(s.a)(Ce,2),Le=Me[0],De=Me[1],Ke=Object(n.useState)(null),Ae=Object(s.a)(Ke,2),Je=Ae[0],Ve=Ae[1],Ue=Object(n.useState)(null),Ie=Object(s.a)(Ue,2),Pe=Ie[0],ze=Ie[1],He=Object(n.useState)(null),_e=Object(s.a)(He,2),Re=_e[0],Fe=_e[1],Be=Object(n.useState)(null),Ye=Object(s.a)(Be,2),qe=Ye[0],Ge=Ye[1],Qe=Object(n.useState)(null),We=Object(s.a)(Qe,2),Xe=We[0],Ze=We[1];Object(n.useEffect)((function(){V().then((function(e){G(e)})),P().then((function(e){ne(e)})),K().then((function(e){pe(e)})),X().then((function(e){ge(e)}))}),[]);return r.a.createElement("div",{className:"add-task-container"},r.a.createElement("h2",null,"Lis\xe4\xe4 teht\xe4v\xe4"),r.a.createElement(p,{message:a,type:"success"}),r.a.createElement(p,{message:i,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),Ve(null),ze(null),Fe(null),Ge(null),Ze(null),b.length<1&&Ve("Nimi ei saa olla tyhj\xe4"),j.length<1&&ze("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),we.length<1&&Fe("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),Le.length<1&&Ge("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),""!==ke&&""!==Z&&""!==be&&""!==le||Ze("Valitsethan arvon kaikkiin pudotuskenttiin"),!(b.length<1||j.length<1||we.length<1||Le.length<1||""===ke||""===Z||""===be||""===le)){t.next=13;break}return t.abrupt("return");case 13:return g(JSON.stringify(j)),x(JSON.stringify(S)),C(JSON.stringify(T)),t.prev=16,t.next=19,m.a.awrap(k({name:b,rule:Z,category:le,series:be,language:ke,assignmentText:j,gradingScale:S,creatorName:we,creatorEmail:Le,supervisorInstructions:T,assignmentTextMD:D,gradingScaleMD:I,supervisorInstructionsMD:R}));case 19:f(""),$(""),se(""),fe(""),Se(""),g(""),x(""),De(""),Te(""),C(""),c("Teht\xe4v\xe4 lis\xe4tty!"),setTimeout((function(){c(null),window.location.reload()}),2e3),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(16),o("Jotain meni vikaan"),setTimeout((function(){o(null)}),5e3);case 37:case"end":return t.stop()}}),null,null,[[16,33]])}},r.a.createElement("div",null,r.a.createElement(p,{message:Je,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",value:b,name:"Name",placeholder:"Teht\xe4v\xe4n nimi",onChange:function(e){var t=e.target;return f(t.value)}})),r.a.createElement("div",null,r.a.createElement("h4",null,"Teht\xe4v\xe4nanto"),r.a.createElement(p,{message:Pe,type:"error"}),r.a.createElement(ue,{setText:g,setMD:A,placeholder:"Teht\xe4v\xe4nanto"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostelu"),r.a.createElement(ue,{setText:x,setMD:z,placeholder:"Arvostelu"})),r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Rastimiehen ohje"),r.a.createElement(ue,{setText:C,setMD:F,placeholder:"Rastimiehen ohje"})),r.a.createElement(p,{message:Xe,type:"error"}),r.a.createElement("div",{className:"dropdowns"},r.a.createElement("div",null,r.a.createElement("select",{multiple:!0,value:be,onChange:function(e){return function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&""!==t[n].value&&a.push(t[n].value);fe(a)}(e)},className:"multiple-series"},r.a.createElement("option",{value:"",className:"series-info"},"Sarja (paina Ctrl, jos useita)"),me.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("select",{value:le,onChange:function(e){return function(e){se(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kategoria"),ae.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:Z,onChange:function(e){return function(e){$(e.target.value)}(e)}},r.a.createElement("option",{value:""},"S\xe4\xe4nn\xf6t"),q.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:ke,onChange:function(e){return function(e){Se(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kieli"),je.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"creator"},r.a.createElement("div",null,r.a.createElement(p,{message:Re,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:we,name:"CreatorName",placeholder:"Lis\xe4\xe4j\xe4n nimi",onChange:function(e){var t=e.target;return Te(t.value)}})),r.a.createElement("div",null,r.a.createElement(p,{message:qe,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:Le,name:"CreatorEmail",placeholder:"Lis\xe4\xe4j\xe4n s\xe4hk\xf6postiosoite",onChange:function(e){var t=e.target;return De(t.value)}}))),r.a.createElement("button",{type:"submit",className:"add-task-button"},"Lis\xe4\xe4 teht\xe4v\xe4")))},ie=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),o=i[0],d=i[1],v=Object(n.useState)(null),b=Object(s.a)(v,2),f=b[0],E=b[1];Object(n.useEffect)((function(){C().then((function(e){c(e)}))}),[]);return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Hyv\xe4ksynt\xe4\xe4 odottavat kisateht\xe4v\xe4t"),r.a.createElement(p,{message:o,type:"success"}),r.a.createElement(p,{message:f,type:"error"}),a&&a.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null)),a.map((function(e){return r.a.createElement("div",{className:"task-list-item pending",key:e.id},r.a.createElement("span",null,r.a.createElement(u.b,{to:"/tehtava/".concat(e.id)},e.name)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category.name),r.a.createElement("span",null,r.a.createElement("button",{className:"accept-button",onClick:function(){return function(e){try{M(e),c(a.filter((function(t){return t.id!==e}))),d("Teht\xe4v\xe4 hyv\xe4ksytty"),setTimeout((function(){d(null)}),5e3)}catch(t){E("Jotain meni vikaan"),setTimeout((function(){E(null)}),5e3)}}(e.id)}},"Hyv\xe4ksy"),r.a.createElement("button",{className:"delete-button",onClick:function(){return t=e.id,m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.awrap(T(t));case 3:c(a.filter((function(e){return e.id!==t}))),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),E("Jotain meni vikaan"),setTimeout((function(){E(null)}),5e3);case 10:case"end":return e.stop()}}),null,null,[[0,6]]);var t}},"Poista")))})))},oe=function(){return r.a.createElement("div",null,r.a.createElement(ie,null),r.a.createElement(u.b,{to:"/omasivu"},"Omat tiedot"),r.a.createElement("br",null),r.a.createElement(u.b,{to:"/lisaa_admin"},"Lis\xe4\xe4 yll\xe4pit\xe4j\xe4"),r.a.createElement("br",null),r.a.createElement(u.b,{to:"/lisaa_pudotusvalikkoon"},"Lis\xe4\xe4 s\xe4\xe4nt\xf6/kieli/sarja/kategoria"))},me=function(e){var t=e.setShowEdit,a=e.user,c=e.setUser,l=e.setMessage,u=Object(n.useState)(null),i=Object(s.a)(u,2),o=i[0],d=i[1],v=Object(n.useState)(null),b=Object(s.a)(v,2),f=b[0],E=b[1],h=Object(n.useState)(null),j=Object(s.a)(h,2),g=j[0],O=j[1],y=Object(n.useState)(a.name),k=Object(s.a)(y,2),S=k[0],x=k[1],N=Object(n.useState)(a.username),w=Object(s.a)(N,2),T=w[0],C=w[1];return r.a.createElement("div",{className:"edit-user-form"},r.a.createElement("h2",null,"Omat tiedot"),r.a.createElement(p,{message:o,type:"error"}),r.a.createElement("form",{onSubmit:function(e){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),E(null),O(null),S.length<3&&E("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),T.length<3&&O("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),!(S.length<3||T.length<3)){n.next=7;break}return n.abrupt("return");case 7:return n.prev=7,n.next=10,m.a.awrap(Y({name:S,username:T}));case 10:a=n.sent,c(a),window.localStorage.setItem("loggedUser",JSON.stringify(a)),t(!1),l("Tietoja muokattu!"),setTimeout((function(){l(null)}),5e3),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(7),n.t0.response&&n.t0.response.data&&n.t0.response.data.error&&"username already exists"===n.t0.response.data.error?d("K\xe4ytt\xe4j\xe4tunnus on varattu"):d("Muokkaaminen ep\xe4onnistui"),setTimeout((function(){d(null)}),5e3);case 22:case"end":return n.stop()}}),null,null,[[7,18]])}},r.a.createElement("div",null,r.a.createElement(p,{message:f,type:"error"}),r.a.createElement("label",null,"Nimi"),r.a.createElement("br",null),r.a.createElement("input",{className:"name",type:"text",value:S,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return x(t.value)}})),r.a.createElement("div",null,r.a.createElement(p,{message:g,type:"error"}),r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement("br",null),r.a.createElement("input",{className:"username",type:"text",value:T,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return C(t.value)}})),r.a.createElement("button",{type:"submit",className:"edit-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return t(!1)},className:"cancel-button"},"Peruuta")))},pe=function(e){var t=e.setShowChangePassword,a=e.setMessage,c=Object(n.useState)(null),l=Object(s.a)(c,2),u=l[0],i=l[1],o=Object(n.useState)(""),d=Object(s.a)(o,2),v=d[0],b=d[1],f=Object(n.useState)(""),E=Object(s.a)(f,2),h=E[0],j=E[1],g=Object(n.useState)(""),O=Object(s.a)(g,2),y=O[0],k=O[1];return r.a.createElement("div",{className:"change-password-form"},r.a.createElement("h2",null,"Vaihda salasana"),r.a.createElement(p,{message:u,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),i(null),!(h.length<3)){n.next=5;break}return i("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),n.abrupt("return");case 5:if(h===y){n.next=8;break}return i("Salasanat eiv\xe4t t\xe4sm\xe4\xe4"),n.abrupt("return");case 8:return n.prev=8,n.next=11,m.a.awrap(Y({oldPassword:v,newPassword:h}));case 11:b(""),j(""),k(""),t(!1),a("Salasana vaihdettu!"),setTimeout((function(){a(null)}),5e3),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(8),n.t0.response&&n.t0.response.data&&n.t0.response.data.error&&"incorrect password"===n.t0.response.data.error?i("Vanha salasana ei t\xe4sm\xe4\xe4"):i("Salasanan vaihtaminen ep\xe4onnistui"),setTimeout((function(){i(null)}),5e3);case 23:case"end":return n.stop()}}),null,null,[[8,19]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"old-password",type:"password",value:v,placeholder:"Vanha salasana",onChange:function(e){var t=e.target;return b(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"new-password",type:"password",value:h,placeholder:"Uusi salasana",onChange:function(e){var t=e.target;return j(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"new-password-again",type:"password",value:y,placeholder:"Uusi salasana uudelleen",onChange:function(e){var t=e.target;return k(t.value)}})),r.a.createElement("button",{type:"submit",className:"change-password-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return t(!1)},className:"cancel-button"},"Peruuta")))},de=function(e){var t=e.user,a=e.setUser,c=Object(n.useState)(null),l=Object(s.a)(c,2),u=l[0],i=l[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),d=m[0],v=m[1],b=Object(n.useState)(!1),f=Object(s.a)(b,2),E=f[0],h=f[1];return r.a.createElement("div",null,t&&r.a.createElement("div",{className:"user-info"},!d&&!E&&r.a.createElement("div",null,r.a.createElement(p,{message:u,type:"success"}),r.a.createElement("h2",null,"Omat tiedot"),r.a.createElement("p",null,r.a.createElement("b",null,"Nimi: "),t.name),r.a.createElement("p",null,r.a.createElement("b",null,"K\xe4ytt\xe4j\xe4tunnus: "),t.username),r.a.createElement("button",{className:"edit-user-button",onClick:function(){return h(!1),void v(!0)}},"Muokkaa"),r.a.createElement("button",{className:"change-password-button",onClick:function(){return v(!1),void h(!0)}},"Vaihda salasana")),d&&r.a.createElement(me,{setShowEdit:v,user:t,setUser:a,setMessage:i}),E&&r.a.createElement(pe,{setShowChangePassword:h,setMessage:i})))},ve=function(e){var t=e.setModifyVisible,a=e.task,c=e.setTask,l=Object(n.useState)(""),u=Object(s.a)(l,2),i=u[0],o=u[1],d=Object(n.useState)(""),v=Object(s.a)(d,2),b=v[0],f=v[1],E=Object(n.useState)(a.name),h=Object(s.a)(E,2),j=h[0],g=h[1],O=Object(n.useState)(a.assignmentText),y=Object(s.a)(O,2),k=y[0],S=y[1],x=Object(n.useState)(a.gradingScale),N=Object(s.a)(x,2),T=N[0],C=N[1],M=Object(n.useState)(a.supervisorInstructions),L=Object(s.a)(M,2),D=L[0],A=L[1],J=Object(n.useState)(a.assignmentTextMD),U=Object(s.a)(J,2),I=U[0],z=U[1],H=Object(n.useState)(a.gradingScaleMD),_=Object(s.a)(H,2),R=_[0],F=_[1],B=Object(n.useState)(a.supervisorInstructionsMD),Y=Object(s.a)(B,2),q=Y[0],G=Y[1],Q=Object(n.useState)([]),W=Object(s.a)(Q,2),Z=W[0],$=W[1],ee=Object(n.useState)(a.rules.id),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),ce=Object(s.a)(re,2),le=ce[0],se=ce[1],ie=Object(n.useState)(a.category.id),oe=Object(s.a)(ie,2),me=oe[0],pe=oe[1],de=Object(n.useState)([]),ve=Object(s.a)(de,2),be=ve[0],fe=ve[1],Ee=Object(n.useState)(a.series.map((function(e){return e.id}))),he=Object(s.a)(Ee,2),je=he[0],ge=he[1],Oe=Object(n.useState)([]),ye=Object(s.a)(Oe,2),ke=ye[0],Se=ye[1],xe=Object(n.useState)(a.language.id),Ne=Object(s.a)(xe,2),we=Ne[0],Te=Ne[1],Ce=Object(n.useState)(a.creatorName),Me=Object(s.a)(Ce,2),Le=Me[0],De=Me[1],Ke=Object(n.useState)(a.creatorEmail),Ae=Object(s.a)(Ke,2),Je=Ae[0],Ve=Ae[1],Ue=Object(n.useState)(null),Ie=Object(s.a)(Ue,2),Pe=Ie[0],ze=Ie[1],He=Object(n.useState)(null),_e=Object(s.a)(He,2),Re=_e[0],Fe=_e[1],Be=Object(n.useState)(null),Ye=Object(s.a)(Be,2),qe=Ye[0],Ge=Ye[1],Qe=Object(n.useState)(null),We=Object(s.a)(Qe,2),Xe=We[0],Ze=We[1],$e=Object(n.useState)(null),et=Object(s.a)($e,2),tt=et[0],at=et[1],nt=a.id;Object(n.useEffect)((function(){V().then((function(e){$(e)})),P().then((function(e){se(e)})),K().then((function(e){fe(e)})),X().then((function(e){Se(e)}))}),[]);return r.a.createElement("div",{className:"modify-task-container"},r.a.createElement("h2",null,"Muokkaa teht\xe4v\xe4\xe4"),r.a.createElement(p,{message:i,type:"success"}),r.a.createElement(p,{message:b,type:"error"}),r.a.createElement("form",{onSubmit:function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.preventDefault(),ze(null),Fe(null),Ge(null),Ze(null),at(null),j.length<1&&ze("Nimi ei saa olla tyhj\xe4"),k.length<1&&Fe("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),Le.length<1&&Ge("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),Je.length<1&&Ze("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),""!==we&&""!==ae&&""!==je&&""!==me||at("Valitsethan arvon kaikkiin pudotuskenttiin"),!(j.length<1||k.length<1||Le.length<1||Je.length<1||""===we||""===ae||""===je||""===me)){a.next=13;break}return a.abrupt("return");case 13:return a.prev=13,a.next=16,m.a.awrap(w({name:j,rule:ae,category:me,series:je,language:we,assignmentText:k,gradingScale:T,creatorName:Le,creatorEmail:Je,supervisorInstructions:D,id:nt,assignmentTextMD:I,gradingScaleMD:R,supervisorInstructionsMD:q}));case 16:t=a.sent,o("Teht\xe4v\xe4 tallennettu!"),c(t),setTimeout((function(){o(null),window.location.reload()}),1e3),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(13),f("Jotain meni vikaan"),setTimeout((function(){f(null)}),5e3);case 26:case"end":return a.stop()}}),null,null,[[13,22]])},className:"modify-form"},r.a.createElement("div",null,r.a.createElement(p,{message:Pe,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",defaultValue:j,name:"Name",placeholder:"Teht\xe4v\xe4n nimi",onChange:function(e){var t=e.target;return g(t.value)}})),r.a.createElement("div",null,r.a.createElement("h4",null,"Teht\xe4v\xe4nanto"),r.a.createElement(p,{message:Re,type:"error"}),r.a.createElement(ue,{setText:S,setMD:z,value:I,placeHolder:"Teht\xe4v\xe4nanto"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostelu"),r.a.createElement(ue,{setText:C,setMD:F,value:R,placeHolder:"Arvostelu"})),r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Rastimiehen ohje"),r.a.createElement(ue,{setText:A,setMD:G,value:q,placeHolder:"Rastimiehen ohje"})),r.a.createElement(p,{message:tt,type:"error"}),r.a.createElement("div",{className:"dropdowns"},r.a.createElement("div",null,r.a.createElement("select",{multiple:!0,value:je,onChange:function(e){return function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&""!==t[n].value&&a.push(t[n].value);ge(a)}(e)},className:"multiple-series"},r.a.createElement("option",{value:"",className:"series-info"},"Sarja (paina Ctrl, jos useita)"),be.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("select",{value:me,onChange:function(e){return function(e){pe(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kategoria"),le.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:ae,onChange:function(e){return function(e){ne(e.target.value)}(e)}},r.a.createElement("option",{value:""},"S\xe4\xe4nn\xf6t"),Z.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:we,onChange:function(e){return function(e){Te(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kieli"),ke.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"creator"},r.a.createElement("div",null,r.a.createElement(p,{message:qe,type:"error"}),r.a.createElement("input",{className:"",type:"text",defaultValue:Le,name:"CreatorName",placeholder:"Muokkaajan nimi",onChange:function(e){var t=e.target;return De(t.value)}})),r.a.createElement("div",null,r.a.createElement(p,{message:Xe,type:"error"}),r.a.createElement("input",{className:"",type:"text",defaultValue:Je,name:"CreatorEmail",placeholder:"Muokkaajan s\xe4hk\xf6postiosoite",onChange:function(e){var t=e.target;return Ve(t.value)}}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"save-task-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){t(!1)},className:"return-button"},"Peruuta"))))},be=function(e){var t=e.text;return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(t)}})},fe=function(e){var t=e.match,a=e.user,c=Object(n.useState)(null),l=Object(s.a)(c,2),u=l[0],o=l[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),v=d[0],b=d[1],f=Object(n.useState)(null),E=Object(s.a)(f,2),h=E[0],j=E[1],g=Object(n.useState)(null),O=Object(s.a)(g,2),y=O[0],k=O[1],S=Object(i.f)();Object(n.useEffect)((function(){x(t.params.id).then((function(e){o(e)}))}),[]);return r.a.createElement("div",null,v?r.a.createElement(ve,{setModifyVisible:b,task:u,setTask:o}):r.a.createElement("div",{className:"task-view-info-background"},r.a.createElement(p,{message:h,type:"success"}),r.a.createElement(p,{message:y,type:"error"}),u&&r.a.createElement("div",{className:"task-view-info"},r.a.createElement("h2",null,u.name),r.a.createElement("h3",null,"Teht\xe4v\xe4nanto:"),r.a.createElement(be,{text:u.assignmentText}),r.a.createElement("h3",null,"Rastimiehen ohjeet:"),r.a.createElement(be,{text:u.supervisorInstructions}),r.a.createElement("h3",null,"Arvosteluasteikko:"),r.a.createElement(be,{text:u.gradingScale}),r.a.createElement("h3",null,"Sarja:"),u.series.map((function(e){return r.a.createElement("span",{key:u.id+e.id},e.name,r.a.createElement("br",null))})),r.a.createElement("h3",null,"Kategoria:"),r.a.createElement("p",null,u.category.name),r.a.createElement("h3",null,"S\xe4\xe4nt\xf6luokka:"),r.a.createElement("p",null,u.rules.name),r.a.createElement("h3",null,"Teht\xe4v\xe4n viimeisin muokkaaja:"),r.a.createElement("p",null,u.creatorName,r.a.createElement("br",null),u.creatorEmail),null!==a&&r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return b(!0)},className:"modify-view-button"},"Muokkaa"),u.pending&&r.a.createElement("button",{className:"accept-button",onClick:function(){return function(){try{M(u.id),j("Teht\xe4v\xe4 hyv\xe4ksytty"),setTimeout((function(){j(null),S.push("/admin")}),2e3)}catch(e){k("Jotain meni vikaan"),setTimeout((function(){k(null)}),5e3)}}()}},"Hyv\xe4ksy"),r.a.createElement("button",{className:"delete-button",onClick:function(){return function(){try{T(u.id),j("Teht\xe4v\xe4 poistettu"),setTimeout((function(){j(null),u.pending?S.push("/admin"):S.push("/")}),2e3)}catch(e){k("Jotain meni vikaan"),setTimeout((function(){k(null)}),5e3)}}()}},"Poista")))))},Ee=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(i.f)();Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);c(t),j(t.token)}}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(u.b,{to:"/"},r.a.createElement("div",{className:"logo"})),r.a.createElement(u.b,{to:"/lisaa_tehtava"},r.a.createElement("button",{className:"addtask-button-header"},"Lis\xe4\xe4 teht\xe4v\xe4")),null===a?r.a.createElement(n.Fragment,null,r.a.createElement(u.b,{to:"/kirjautuminen"},r.a.createElement("button",{className:"login-button-header"},"Kirjaudu"))):r.a.createElement(n.Fragment,null,r.a.createElement(u.b,{to:"/admin"},r.a.createElement("button",{className:"admin-button-header"},"Admin")),r.a.createElement("div",null,r.a.createElement("div",{className:"logged"},"Kirjautuneena ",r.a.createElement(u.b,{to:"/admin",className:"username-header"},a.username)),r.a.createElement("div",{className:"logout"},r.a.createElement("button",{className:"logout-button-header",onClick:function(){return window.localStorage.removeItem("loggedUser"),c(null),j(null),l.push("/"),void window.location.reload()}},"Kirjaudu ulos"))))),r.a.createElement("div",{className:"admin-task-buttons-mobile"},null!==a&&r.a.createElement(u.b,{to:"/admin"},r.a.createElement("button",{className:"admin-button-mobile"},"Admin")),r.a.createElement(u.b,{to:"/lisaa_tehtava"},r.a.createElement("button",{className:"addtask-button-mobile"},"Lis\xe4\xe4 teht\xe4v\xe4"))),r.a.createElement("div",{className:"container"},r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(_,{user:a})}}),r.a.createElement(i.b,{exact:!0,path:"/tehtava/:id",render:function(e){return r.a.createElement(fe,Object.assign({},e,{user:a}))}}),r.a.createElement(i.b,{path:"/kirjautuminen",render:function(){return r.a.createElement(g,{setUser:c})}}),r.a.createElement(i.b,{path:"/lisaa_tehtava",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(i.b,{path:"/omasivu",render:function(){return a?r.a.createElement(de,{user:a,setUser:c}):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/admin",render:function(){return a?r.a.createElement(oe,null):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/lisaa_admin",render:function(){return a?r.a.createElement(q,null):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/lisaa_pudotusvalikkoon",render:function(){return a?r.a.createElement(ae,null):r.a.createElement(i.a,{to:"/"})}})))};a(376);l.a.render(r.a.createElement(u.a,null,r.a.createElement(Ee,null)),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.33ff7b65.chunk.js.map