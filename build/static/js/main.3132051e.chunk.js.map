{"version":3,"sources":["components/Notification.js","services/login.js","components/Login.js","services/signup.js","components/SignUp.js","App.js","index.js"],"names":["Notification","message","className","baseUrl","process","credentials","a","async","axios","post","response","data","Login","setUser","setPage","useState","errorMessage","setErrorMessage","username","setUsername","password","setPassword","onSubmit","event","preventDefault","loginService","user","window","localStorage","setItem","JSON","stringify","setTimeout","type","value","name","placeholder","onChange","target","console","log","SignUp","setName","key","setKey","signupService","App","page","useEffect","loggedUserJSON","getItem","parse","toPage","onClick","removeItem","ReactDOM","render","document","getElementById"],"mappings":"qOAceA,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,I,gBCRDE,EAAO,UAAMC,OAAN,UAOE,EALD,SAAOC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACWE,IAAMC,KAAKN,EAASE,IAD/B,cACNK,EADM,yBAELA,EAASC,MAFJ,sCC2DCC,EA1DD,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAAc,EAEEC,mBAAS,MAFX,mBAE/BC,EAF+B,KAEjBC,EAFiB,OAGNF,mBAAS,IAHH,mBAG/BG,EAH+B,KAGrBC,EAHqB,OAINJ,mBAAS,IAJH,mBAI/BK,EAJ+B,KAIrBC,EAJqB,KA2BtC,OACE,yBAAKnB,UAAU,cACb,qDACA,kBAAC,EAAD,CAAcD,QAASe,IACvB,0BAAMM,SAzBU,SAAOC,GAAP,eAAAjB,EAAAC,OAAA,uDAClBgB,EAAMC,iBADY,oBAAAlB,EAAA,MAGGmB,EAAmB,CACpCP,WAAUE,cAJI,OAGVM,EAHU,OAMhBC,OAAOC,aAAaC,QAClB,aAAcC,KAAKC,UAAUL,IAE/Bb,EAAQa,GACRP,EAAY,IACZE,EAAY,IACZP,EAAQ,SAZQ,kDAchBG,EAAgB,mDAChBe,YAAW,WACTf,EAAgB,QACf,KAjBa,2DA0Bd,6BACE,2BACEf,UAAU,WACV+B,KAAK,OACLC,MAAOhB,EACPiB,KAAK,WACLC,YAAY,0BACZC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBnB,EAAYmB,EAAOJ,WAGjD,6BACE,2BACEhC,UAAU,WACV+B,KAAK,WACLC,MAAOd,EACPe,KAAK,WACLC,YAAY,WACZC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBjB,EAAYiB,EAAOJ,WAGjD,4BAAQD,KAAK,SAAS/B,UAAU,gBAAhC,eCtDFC,EAAO,UAAMC,OAAN,WAQE,EANA,SAAOC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACUE,IAAMC,KAAKN,EAASE,IAD9B,cACPK,EADO,OAEb6B,QAAQC,IAAIrC,GAFC,kBAGNO,EAASC,MAHH,sCCkFA8B,EAlFA,SAAC,GAA0B,IAAxB5B,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAAc,EAECC,mBAAS,MAFV,mBAEhCC,EAFgC,KAElBC,EAFkB,OAGfF,mBAAS,IAHM,mBAGhCoB,EAHgC,KAG1BO,EAH0B,OAIP3B,mBAAS,IAJF,mBAIhCG,EAJgC,KAItBC,EAJsB,OAKPJ,mBAAS,IALF,mBAKhCK,EALgC,KAKtBC,EALsB,OAMjBN,mBAAS,IANQ,mBAMhC4B,EANgC,KAM3BC,EAN2B,KA+BvC,OACE,yBAAK1C,UAAU,eACb,+CACA,kBAAC,EAAD,CAAcD,QAASe,IACvB,0BAAMM,SA3BW,SAAOC,GAAP,eAAAjB,EAAAC,OAAA,uDACnBgB,EAAMC,iBADa,oBAAAlB,EAAA,MAGEuC,EAAqB,CACtCV,OAAMjB,WAAUE,WAAUuB,SAJX,OAGXjB,EAHW,OAMjBC,OAAOC,aAAaC,QAClB,aAAcC,KAAKC,UAAUL,IAE/Bb,EAAQa,GACRgB,EAAQ,IACRvB,EAAY,IACZE,EAAY,IACZuB,EAAO,IACP9B,EAAQ,SAdS,kDAgBjBG,EAAgB,sBAChBe,YAAW,WACTf,EAAgB,QACf,KAnBc,2DA4Bf,6BACE,2BACEf,UAAU,OACV+B,KAAK,OACLC,MAAOC,EACPA,KAAK,OACLC,YAAY,OACZC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBI,EAAQJ,EAAOJ,WAG7C,6BACE,2BACEhC,UAAU,WACV+B,KAAK,OACLC,MAAOhB,EACPiB,KAAK,WACLC,YAAY,0BACZC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBnB,EAAYmB,EAAOJ,WAGjD,6BACE,2BACEhC,UAAU,WACV+B,KAAK,WACLC,MAAOd,EACPe,KAAK,WACLC,YAAY,WACZC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBjB,EAAYiB,EAAOJ,WAGjD,6BACE,2BACEhC,UAAU,MACV+B,KAAK,OACLC,MAAOS,EACPR,KAAK,MACLC,YAAY,QACZC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBM,EAAON,EAAOJ,WAG5C,4BAAQD,KAAK,SAAS/B,UAAU,iBAAhC,sBClBO4C,EA1DH,WAAO,IAAD,EAEQ/B,mBAAS,SAFjB,mBAETgC,EAFS,KAEHjC,EAFG,OAGQC,mBAAS,MAHjB,mBAGTW,EAHS,KAGHb,EAHG,KAKhBmC,qBAAU,WACR,IAAMC,EAAiBtB,OAAOC,aAAasB,QAAQ,cACnD,GAAID,EAAgB,CAClB,IAAMvB,EAAOI,KAAKqB,MAAMF,GACxBpC,EAAQa,MAET,IAEH,IAAM0B,EAAS,SAACL,GAAD,OAAU,SAACxB,GACxBA,EAAMC,iBACNV,EAAQiC,KAmBV,OACE,6BACE,yBAAK7C,UAAU,UACb,yBAAKA,UAAU,OAAOmD,QAASD,EAAO,WAC5B,OAAT1B,EACC,kBAAC,WAAD,KACE,4BAAQxB,UAAU,sBAAsBmD,QAASD,EAAO,UAAxD,YACA,4BAAQlD,UAAU,uBAAuBmD,QAASD,EAAO,WAAzD,oBAGF,6BACE,yBAAKlD,UAAU,UAAf,iBAAuCwB,EAAKR,UAC5C,yBAAKhB,UAAU,UAAS,4BAAQA,UAAU,uBAAuBmD,QAAS,kBAjBlF1B,OAAOC,aAAa0B,WAAW,cAC/BzC,EAAQ,WACRuC,EAAO,WAeyB,oBAI9B,yBAAKlD,UAAU,aACb,uDAhCS,UAAT6C,EACK,8BACW,UAATA,EACF,kBAAC,EAAD,CAAOlC,QAASA,EAASC,QAASA,IACvB,WAATiC,EACF,kBAAC,EAAD,CAAQlC,QAASA,EAASC,QAASA,SADrC,K,MCtBXyC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.3132051e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_API_URL}/login`\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","import React, { useState } from 'react'\nimport Notification from './Notification'\nimport loginService from '../services/login'\n\nconst Login = ({ setUser, setPage }) => {\n\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('') \n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem(\n        'loggedUser', JSON.stringify(user)\n      )\n      setUser(user)\n      setUsername('')\n      setPassword('')\n      setPage('tasks')\n    } catch (exception) {\n      setErrorMessage('Väärä käyttäjätunnus/salasana')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"login-form\">\n      <h2>Kirjaudu sisään</h2>\n      <Notification message={errorMessage} />\n      <form onSubmit={handleLogin}>\n        <div>\n          <input\n            className=\"username\"\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            placeholder=\"Käyttäjätunnus\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"password\"\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            placeholder=\"Salasana\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button type=\"submit\" className=\"login-button\">Kirjaudu</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n","import axios from 'axios'\n\nconst baseUrl = `${process.env.REACT_APP_API_URL}/signup`\n\nconst signup = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials)\n  console.log(baseUrl)\n  return response.data\n}\n\nexport default { signup }\n","import React, { useState } from 'react'\nimport Notification from './Notification'\nimport signupService from '../services/signup'\n\nconst SignUp = ({ setUser, setPage }) => {\n\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [name, setName] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [key, setKey] = useState('')\n\n  const handleSignUp = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await signupService.signup({\n        name, username, password, key,\n      })\n      window.localStorage.setItem(\n        'loggedUser', JSON.stringify(user)\n      )\n      setUser(user)\n      setName('')\n      setUsername('')\n      setPassword('')\n      setKey('')\n      setPage('tasks')\n    } catch (exception) {\n      setErrorMessage('Jotain meni vikaan')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"signup-form\">\n      <h2>Rekisteröidy</h2>\n      <Notification message={errorMessage} />\n      <form onSubmit={handleSignUp}>\n        <div>\n          <input\n            className=\"name\"\n            type=\"text\"\n            value={name}\n            name=\"Name\"\n            placeholder=\"Nimi\"\n            onChange={({ target }) => setName(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"username\"\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            placeholder=\"Käyttäjätunnus\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"password\"\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            placeholder=\"Salasana\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"key\"\n            type=\"text\"\n            value={key}\n            name=\"Key\"\n            placeholder=\"Avain\"\n            onChange={({ target }) => setKey(target.value)}\n          />\n        </div>\n        <button type=\"submit\" className=\"signup-button\">Rekisteröidy</button>\n      </form>\n    </div>\n  )\n}\n\nexport default SignUp\n","import React, { useState, useEffect, Fragment } from 'react'\nimport Login from './components/Login'\nimport SignUp from './components/SignUp'\n\nconst App = () => {\n\n  const [page, setPage] = useState('tasks')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n    }\n  }, [])\n\n  const toPage = (page) => (event) => {\n    event.preventDefault()\n    setPage(page)\n  }\n\n  const content = () => {\n    if (page === 'tasks') {\n      return <div></div>\n    } else if (page === 'login') {\n      return <Login setUser={setUser} setPage={setPage} />\n    } else if (page === 'signup') {\n      return <SignUp setUser={setUser} setPage={setPage} />\n    }\n  }\n\n  const logout = () => {\n    window.localStorage.removeItem('loggedUser')\n    setUser(null)\n    toPage('tasks')\n  }\n\n  return (\n    <div>\n      <div className=\"header\">\n        <div className=\"logo\" onClick={toPage('tasks')}></div>\n        {user === null ?\n          <Fragment>\n            <button className=\"login-button-header\" onClick={toPage('login')}>Kirjaudu</button>\n            <button className=\"signup-button-header\" onClick={toPage('signup')}>Rekisteröidy</button>\n          </Fragment>\n          :\n          <div>\n            <div className=\"logged\">Kirjautuneena {user.username}</div>\n            <div className=\"logout\"><button className=\"logout-button-header\" onClick={() => logout()}>Kirjaudu ulos</button></div>\n          </div>\n        }\n      </div>\n      <div className=\"container\">\n        <h1>Kisatehtäväpankki</h1>\n        {content()}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}