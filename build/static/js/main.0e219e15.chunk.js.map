{"version":3,"sources":["components/Notification.js","services/login.js","components/Login.js","services/signup.js","components/SignUp.js","App.js","index.js"],"names":["Notification","message","className","baseUrl","process","credentials","a","async","axios","post","response","data","Login","setUser","setShowLogin","useState","errorMessage","setErrorMessage","username","setUsername","password","setPassword","onSubmit","event","preventDefault","loginService","user","window","localStorage","setItem","JSON","stringify","setTimeout","type","value","name","placeholder","onChange","target","console","log","SignUp","setShowSignUp","setName","key","setKey","signupService","App","showLogin","showSignUp","useEffect","loggedUserJSON","getItem","parse","onClick","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e219e15.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_API_URL}/login`\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","import React, { useState } from 'react'\nimport Notification from './Notification'\nimport loginService from '../services/login'\n\nconst Login = ({ setUser, setShowLogin }) => {\n\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('') \n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem(\n        'loggedUser', JSON.stringify(user)\n      )\n      setUser(user)\n      setUsername('')\n      setPassword('')\n      setShowLogin(false)\n    } catch (exception) {\n      setErrorMessage('Väärä käyttäjätunnus/salasana')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"login-form\">\n      <h2>Kirjaudu sisään</h2>\n      <Notification message={errorMessage} />\n      <form onSubmit={handleLogin}>\n        <div>\n          <input\n            className=\"username\"\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            placeholder=\"Käyttäjätunnus\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"password\"\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            placeholder=\"Salasana\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <button type=\"submit\" className=\"login-button\">Kirjaudu</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n","import axios from 'axios'\n\nconst baseUrl = `${process.env.REACT_APP_API_URL}/signup`\n\nconst signup = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials)\n  console.log(baseUrl)\n  return response.data\n}\n\nexport default { signup }\n","import React, { useState } from 'react'\nimport Notification from './Notification'\nimport signupService from '../services/signup'\n\nconst SignUp = ({ setUser, setShowSignUp }) => {\n\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [name, setName] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [key, setKey] = useState('')\n\n  const handleSignUp = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await signupService.signup({\n        name, username, password, key,\n      })\n      window.localStorage.setItem(\n        'loggedUser', JSON.stringify(user)\n      )\n      setUser(user)\n      setName('')\n      setUsername('')\n      setPassword('')\n      setKey('')\n      setShowSignUp(false)\n    } catch (exception) {\n      setErrorMessage('Jotain meni vikaan')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"signup-form\">\n      <h2>Rekisteröidy</h2>\n      <Notification message={errorMessage} />\n      <form onSubmit={handleSignUp}>\n        <div>\n          <input\n            className=\"name\"\n            type=\"text\"\n            value={name}\n            name=\"Name\"\n            placeholder=\"Nimi\"\n            onChange={({ target }) => setName(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"username\"\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            placeholder=\"Käyttäjätunnus\"\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"password\"\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            placeholder=\"Salasana\"\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <div>\n          <input\n            className=\"key\"\n            type=\"text\"\n            value={key}\n            name=\"Key\"\n            placeholder=\"Avain\"\n            onChange={({ target }) => setKey(target.value)}\n          />\n        </div>\n        <button type=\"submit\" className=\"signup-button\">Rekisteröidy</button>\n      </form>\n    </div>\n  )\n}\n\nexport default SignUp\n","import React, { useState, useEffect, Fragment } from 'react'\nimport Login from './components/Login'\nimport SignUp from './components/SignUp'\n\nconst App = () => {\n\n  const [ user, setUser ] = useState(null)\n  const [ showLogin, setShowLogin ] = useState(false)\n  const [ showSignUp, setShowSignUp ] = useState(false)\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n    }\n  }, [])\n\n  const loginForm = () => {\n    setShowLogin(!showLogin)\n    setShowSignUp(false)\n  }\n\n  const signUpForm = () => {\n    setShowSignUp(!showSignUp)\n    setShowLogin(false)\n  }\n\n  const logout = () => {\n    window.localStorage.removeItem('loggedUser')\n    setUser(null)\n  }\n\n  return (\n    <div>\n      <div className=\"header\">\n        <div className=\"logo\"></div>\n        {user === null ?\n          <Fragment>\n            <button className=\"login-button-header\" onClick={() => loginForm()}>Kirjaudu</button>\n            <button className=\"signup-button-header\" onClick={() => signUpForm()}>Rekisteröidy</button>\n          </Fragment>\n          :\n          <div>\n            <div className=\"logged\">Kirjautuneena {user.username}</div>\n            <div className=\"logout\"><button className=\"logout-button-header\" onClick={() => logout()}>Kirjaudu ulos</button></div>\n          </div>\n        }\n      </div>\n      <div className=\"container\">\n        <h1>Kisatehtäväpankki</h1>\n        {showLogin && <Login setUser={setUser} setShowLogin={setShowLogin} />}\n        {showSignUp && <SignUp setUser={setUser} setShowSignUp={setShowSignUp} />}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}