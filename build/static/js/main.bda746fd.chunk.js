(this.webpackJsonpkisapankki=this.webpackJsonpkisapankki||[]).push([[0],{15:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),u=a(14),c=a.n(u),l=a(1),s=a(2),o=a.n(s),i=function(e){var t=e.message,a=e.type;return null===t?null:r.a.createElement("div",{className:a},t)},m=a(3),p=a.n(m),v="".concat("/api","/login"),b=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(p.a.post(v,e));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},d=null,g=function(){return d},f=function(e){d="bearer ".concat(e)},h=function(e){var t=e.setUser,a=e.setPage,u=Object(n.useState)(null),c=Object(l.a)(u,2),s=c[0],m=c[1],p=Object(n.useState)(""),v=Object(l.a)(p,2),d=v[0],g=v[1],h=Object(n.useState)(""),E=Object(l.a)(h,2),j=E[0],O=E[1];return r.a.createElement("div",{className:"login-form"},r.a.createElement("h2",null,"Kirjaudu sis\xe4\xe4n"),r.a.createElement(i,{message:s,type:"error"}),r.a.createElement("form",{onSubmit:function(e){var n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,o.a.awrap(b({username:d,password:j}));case 4:n=r.sent,window.localStorage.setItem("loggedUser",JSON.stringify(n)),t(n),f(n.token),g(""),O(""),a("tasks"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(1),m("V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4tunnus/salasana"),setTimeout((function(){m(null)}),5e3);case 17:case"end":return r.stop()}}),null,null,[[1,13]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"username",type:"text",value:d,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return g(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"password",type:"password",value:j,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return O(t.value)}})),r.a.createElement("button",{type:"submit",className:"login-button"},"Kirjaudu")))},E="".concat("/api","/signup"),j=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(p.a.post(E,e));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},O=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(p.a.get(E));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},y=function(e){var t=e.setPage,a=Object(n.useState)(null),u=Object(l.a)(a,2),c=u[0],s=u[1],m=Object(n.useState)(null),p=Object(l.a)(m,2),v=p[0],b=p[1],d=Object(n.useState)(null),g=Object(l.a)(d,2),f=g[0],h=g[1],E=Object(n.useState)(null),y=Object(l.a)(E,2),k=y[0],x=y[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),w=N[0],C=N[1],A=Object(n.useState)(""),L=Object(l.a)(A,2),T=L[0],K=L[1],D=Object(n.useState)(""),J=Object(l.a)(D,2),U=J[0],P=J[1],R=Object(n.useState)(""),z=Object(l.a)(R,2),I=z[0],V=z[1],G=Object(n.useState)([]),F=Object(l.a)(G,2),M=F[0],B=F[1];Object(n.useEffect)((function(){O().then((function(e){B(e)}))}),[]);return r.a.createElement("div",{className:"signup-form"},r.a.createElement("h2",null,"Rekister\xf6idy"),r.a.createElement(i,{message:c,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.preventDefault(),b(null),h(null),x(null),w.length<3&&b("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),T.length<3&&h("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),U.length<3&&x("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),M.some((function(e){return e.username===T}))&&h("K\xe4ytt\xe4j\xe4nimi on varattu"),!(w.length<3||T.length<3||U.length<3||M.some((function(e){return e.username===T})))){a.next=10;break}return a.abrupt("return");case 10:return a.prev=10,a.next=13,o.a.awrap(j({name:w,username:T,password:U,key:I}));case 13:C(""),K(""),P(""),V(""),t("login"),a.next=24;break;case 20:a.prev=20,a.t0=a.catch(10),s("Rekister\xf6ityminen ep\xe4onnistui"),setTimeout((function(){s(null)}),5e3);case 24:case"end":return a.stop()}}),null,null,[[10,20]])}},r.a.createElement("div",null,r.a.createElement(i,{message:v,type:"error"}),r.a.createElement("input",{className:"name",type:"text",value:w,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return C(t.value)}})),r.a.createElement("div",null,r.a.createElement(i,{message:f,type:"error"}),r.a.createElement("input",{className:"username",type:"text",value:T,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return K(t.value)}})),r.a.createElement("div",null,r.a.createElement(i,{message:k,type:"error"}),r.a.createElement("input",{className:"password",type:"password",value:U,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return P(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"key",type:"text",value:I,name:"Key",placeholder:"Avain",onChange:function(e){var t=e.target;return V(t.value)}})),r.a.createElement("button",{type:"submit",className:"signup-button"},"Rekister\xf6idy")))},k="".concat("/api","/task"),x=function(e){var t,a,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=null,(a=g())&&(t={headers:{Authorization:a}}),r.next=5,o.a.awrap(p.a.post(k,e,t));case 5:return n=r.sent,r.abrupt("return",n.data);case 7:case"end":return r.stop()}}))},S="".concat("/api","/rule"),N=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:g()}},n.next=3,o.a.awrap(p.a.post(S,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},w=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(p.a.get(S));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},C="".concat("/api","/category"),A=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:g()}},n.next=3,o.a.awrap(p.a.post(C,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},L=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(p.a.get(C));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},T="".concat("/api","/ageGroup"),K=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:g()}},n.next=3,o.a.awrap(p.a.post(T,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},D=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(p.a.get(T));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},J="".concat("/api","/language"),U=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:g()}},n.next=3,o.a.awrap(p.a.post(J,e,t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},P=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(p.a.get(J));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},R=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],u=t[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),m=s[0],p=s[1],v=Object(n.useState)(""),b=Object(l.a)(v,2),d=b[0],g=b[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),E=h[0],j=h[1],O=Object(n.useState)(""),y=Object(l.a)(O,2),k=y[0],S=y[1],N=Object(n.useState)(""),C=Object(l.a)(N,2),A=C[0],T=C[1],K=Object(n.useState)([]),J=Object(l.a)(K,2),U=J[0],R=J[1],z=Object(n.useState)(""),I=Object(l.a)(z,2),V=I[0],G=I[1],F=Object(n.useState)([]),M=Object(l.a)(F,2),B=M[0],Y=M[1],q=Object(n.useState)(""),H=Object(l.a)(q,2),Q=H[0],W=H[1],X=Object(n.useState)([]),Z=Object(l.a)(X,2),$=Z[0],_=Z[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),ue=Object(l.a)(re,2),ce=ue[0],le=ue[1],se=Object(n.useState)(""),oe=Object(l.a)(se,2),ie=oe[0],me=oe[1],pe=Object(n.useState)(""),ve=Object(l.a)(pe,2),be=ve[0],de=ve[1],ge=Object(n.useState)(""),fe=Object(l.a)(ge,2),he=fe[0],Ee=fe[1],je=Object(n.useState)(null),Oe=Object(l.a)(je,2),ye=Oe[0],ke=Oe[1],xe=Object(n.useState)(null),Se=Object(l.a)(xe,2),Ne=Se[0],we=Se[1],Ce=Object(n.useState)(null),Ae=Object(l.a)(Ce,2),Le=Ae[0],Te=Ae[1],Ke=Object(n.useState)(null),De=Object(l.a)(Ke,2),Je=De[0],Ue=De[1];Object(n.useEffect)((function(){w().then((function(e){R(e)})),L().then((function(e){Y(e)})),D().then((function(e){_(e)})),P().then((function(e){le(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Lis\xe4\xe4 teht\xe4v\xe4"),r.a.createElement(i,{message:a,type:"success"}),r.a.createElement(i,{message:m,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),ke(null),we(null),Te(null),Ue(null),d.length<1&&ke("Nimi ei saa olla tyhj\xe4"),E.length<1&&we("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),be.length<1&&Te("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),he.length<1&&Ue("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),!(d.length<1||E.length<1||be.length<1||he.length<1)){t.next=11;break}return t.abrupt("return");case 11:return t.prev=11,t.next=14,o.a.awrap(x({name:d,rule:V,category:Q,ageGroup:ae,language:ie,assignmentText:E,gradingScale:k,creatorName:be,creatorEmail:he}));case 14:g(""),G(""),W(""),ne(""),me(""),j(""),S(""),Ee(""),de(""),T(""),u("Teht\xe4v\xe4 lis\xe4tty!"),setTimeout((function(){u(null)}),5e3),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(11),p("Jotain meni vikaan"),setTimeout((function(){p(null)}),5e3);case 32:case"end":return t.stop()}}),null,null,[[11,28]])}},r.a.createElement("div",null,r.a.createElement(i,{message:ye,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",value:d,name:"Name",placeholder:"Teht\xe4v\xe4n otsikko",onChange:function(e){var t=e.target;return g(t.value)}})),r.a.createElement("div",null,r.a.createElement(i,{message:Ne,type:"error"}),r.a.createElement("textarea",{rows:"3",cols:"35",className:"",type:"text",value:E,name:"AssignmentText",placeholder:"Teht\xe4v\xe4nanto",onChange:function(e){var t=e.target;return j(t.value)}})),r.a.createElement("div",null,r.a.createElement("textarea",{rows:"3",cols:"35",className:"",type:"text",value:k,name:"GradingScale",placeholder:"Arvostelu",onChange:function(e){var t=e.target;return S(t.value)}})),r.a.createElement("div",null,r.a.createElement("textarea",{rows:"3",cols:"35",className:"",type:"text",value:A,name:"supervisorInstruction",placeholder:"Rastimiehen ohje",onChange:function(e){var t=e.target;return T(t.value)}})),r.a.createElement("div",null,r.a.createElement("select",{value:ae,onChange:function(e){return function(e){ne(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Valitse ik\xe4luokka"),$.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("select",{value:Q,onChange:function(e){return function(e){W(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Valitse kategoria"),B.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.category)})))),r.a.createElement("div",null,r.a.createElement("select",{value:V,onChange:function(e){return function(e){G(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Valitse s\xe4\xe4nn\xf6t"),U.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.rules)}))),r.a.createElement("select",{value:ie,onChange:function(e){return function(e){me(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Teht\xe4v\xe4n kieli"),ce.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.language)})))),r.a.createElement("div",null,r.a.createElement(i,{message:Le,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:be,name:"CreatorName",placeholder:"Lis\xe4\xe4j\xe4n nimi",onChange:function(e){var t=e.target;return de(t.value)}}),r.a.createElement(i,{message:Je,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:he,name:"CreatorEmail",placeholder:"Lis\xe4\xe4j\xe4n s\xe4hk\xf6postiosoite",onChange:function(e){var t=e.target;return Ee(t.value)}})),r.a.createElement("button",{type:"submit",className:"add-task-button"},"Lis\xe4\xe4 teht\xe4v\xe4")))},z=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],u=t[1],c=Object(n.useState)(null),s=Object(l.a)(c,2),m=s[0],p=s[1];return r.a.createElement("div",{className:"rule-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 s\xe4\xe4nt\xf6"),r.a.createElement(i,{message:m,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,o.a.awrap(N({rules:a}));case 4:u(""),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),p("Jotain meni vikaan"),setTimeout((function(){p(null)}),5e3);case 11:case"end":return t.stop()}}),null,null,[[1,7]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"rule",type:"text",value:a,name:"Rules",placeholder:"S\xe4\xe4nt\xf6",onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("button",{type:"submit",className:"task-add-button"},"Lis\xe4\xe4")))},I=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],u=t[1],c=Object(n.useState)(null),s=Object(l.a)(c,2),m=s[0],p=s[1];return r.a.createElement("div",{className:"language-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 kieli"),r.a.createElement(i,{message:m,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),console.log(a),t.prev=2,t.next=5,o.a.awrap(U({language:a}));case 5:u(""),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),p("Kielen lis\xe4\xe4minen ei onnistunut"),setTimeout((function(){p(null)}),5e3);case 12:case"end":return t.stop()}}),null,null,[[2,8]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"language",type:"text",value:a,name:"Language",placeholder:"Kieli",onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("button",{type:"submit",className:"language-add-button"},"Lis\xe4\xe4")))},V=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],u=t[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),m=s[0],p=s[1],v=Object(n.useState)(""),b=Object(l.a)(v,2),d=b[0],g=b[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),E=h[0],j=h[1],O=Object(n.useState)(null),y=Object(l.a)(O,2),k=y[0],x=y[1];return r.a.createElement("div",{className:"age-group-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 ik\xe4ryhm\xe4"),r.a.createElement(i,{message:k,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,o.a.awrap(K({name:a,minAge:m,maxAge:d,color:E}));case 4:u(""),p(""),g(""),j(""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),x("Jotain meni vikaan"),setTimeout((function(){x(null)}),5e3);case 14:case"end":return t.stop()}}),null,null,[[1,10]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"name",type:"text",value:a,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"minAge",type:"number",value:m,name:"MinAge",placeholder:"Alaraja i\xe4lle",min:"1",max:"100",onChange:function(e){var t,a=e.target;p(a.value),t=a.value,d<=t&&g(Number(t))}})),r.a.createElement("div",null,r.a.createElement("input",{className:"maxAge",type:"number",value:d,name:"MaxAge",placeholder:"Yl\xe4raja i\xe4lle",min:m,max:"100",onChange:function(e){var t=e.target;return g(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"color",type:"text",value:E,name:"Color",placeholder:"V\xe4ri",onChange:function(e){var t=e.target;return j(t.value)}})),r.a.createElement("button",{type:"submit",className:"age-group-submit-button"},"Lis\xe4\xe4")))},G=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],u=t[1],c=Object(n.useState)(null),s=Object(l.a)(c,2),m=s[0],p=s[1];return r.a.createElement("div",{className:"category-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 kategoria"),r.a.createElement(i,{message:m,type:"error"}),r.a.createElement("form",{onSubmit:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,o.a.awrap(A({category:a}));case 4:u(""),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),p("Jotain meni vikaan"),setTimeout((function(){p(null)}),5e3);case 11:case"end":return t.stop()}}),null,null,[[1,7]])}},r.a.createElement("div",null,r.a.createElement("input",{className:"category",type:"text",value:a,name:"Category",placeholder:"Kategoria",onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("button",{type:"submit",className:"category-add-button"},"Lis\xe4\xe4")))},F=function(){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(I,null),r.a.createElement(V,null),r.a.createElement(G,null))},M=function(){var e=Object(n.useState)("tasks"),t=Object(l.a)(e,2),a=t[0],u=t[1],c=Object(n.useState)(null),s=Object(l.a)(c,2),o=s[0],i=s[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);i(t),f(t.token)}}),[]);var m=function(e){return function(t){t.preventDefault(),u(e)}};return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"logo",onClick:m("tasks")}),r.a.createElement("button",{className:"addtask-button-header",onClick:m("addtask")},"Lis\xe4\xe4 teht\xe4v\xe4"),null===o?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"login-button-header",onClick:m("login")},"Kirjaudu"),r.a.createElement("button",{className:"signup-button-header",onClick:m("signup")},"Rekister\xf6idy")):r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"admin-button-header",onClick:m("admin")},"Admin"),r.a.createElement("div",null,r.a.createElement("div",{className:"logged"},"Kirjautuneena ",o.username),r.a.createElement("div",{className:"logout"},r.a.createElement("button",{className:"logout-button-header",onClick:function(){return window.localStorage.removeItem("loggedUser"),i(null),f(null),void m("tasks")}},"Kirjaudu ulos"))))),r.a.createElement("div",{className:"admin-task-buttons-mobile"},null!==o&&r.a.createElement("button",{className:"admin-button-mobile",onClick:m("admin")},"Admin"),r.a.createElement("button",{className:"addtask-button-mobile",onClick:m("addtask")},"Lis\xe4\xe4 teht\xe4v\xe4")),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Kisateht\xe4v\xe4pankki"),"tasks"===a?r.a.createElement("div",null):"login"===a?r.a.createElement(h,{setUser:i,setPage:u}):"signup"===a?r.a.createElement(y,{setPage:u}):"addtask"===a?r.a.createElement(R,null):o&&"admin"===a?r.a.createElement(F,null):void 0))};a(39);c.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.bda746fd.chunk.js.map