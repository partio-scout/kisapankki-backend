(this.webpackJsonpkisapankki=this.webpackJsonpkisapankki||[]).push([[0],{138:function(e,t,a){e.exports=a(391)},390:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),s=a.n(c),l=a(8),u=a(1),i=a(23),o=a(2),m=a.n(o),p=a(3),d=function(e){var t=e.message,a=e.type;return null===t?null:r.a.createElement("div",{className:a},t)},f=a(5),v=a.n(f),b="".concat("/api","/login"),E={login:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(b,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=null,h=function(){return g},k=function(e){g="bearer ".concat(e)},j=function(){g=null},O=function(e){var t=e.setUser,a=Object(n.useState)(null),c=Object(u.a)(a,2),s=c[0],l=c[1],o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),j=h[0],O=h[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),S=N[0],w=N[1],x=Object(i.f)(),C=function(){var e=Object(p.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,E.login({username:v,email:j,password:S});case 4:n=e.sent,window.localStorage.setItem("loggedUser",JSON.stringify(n)),t(n),k(n.token),b(""),O(""),w(""),x.push("/"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),l("V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4tunnus/salasana"),setTimeout((function(){l(null)}),5e3);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-form"},r.a.createElement("h2",null,"Kirjaudu sis\xe4\xe4n"),r.a.createElement(d,{message:s,type:"error"}),r.a.createElement("form",{onSubmit:C},r.a.createElement("div",null,r.a.createElement("input",{className:"username",type:"text",value:v,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return b(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"password",type:"password",value:S,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return w(t.value)}})),r.a.createElement("button",{type:"submit",className:"login-button"},"Kirjaudu")))},y=a(11),N=a(78),S=function(){return r.a.createElement("div",{className:"frontpage-info"},r.a.createElement("h2",null,"Kisateht\xe4v\xe4pankki"),r.a.createElement("p",null,"Kisateht\xe4v\xe4pankki on arkisto, johon voidaan tallettaa teht\xe4vi\xe4. Sivustolle voi tallettaa teht\xe4v\xe4n, sek\xe4 siihen liittyv\xe4t liitetiedostot."),r.a.createElement("p",null,'Kirjautumattomana k\xe4ytt\xe4j\xe4n\xe4 voit koostaa teht\xe4vist\xe4 kisaa varten kokonaisuuksia, sek\xe4 ladata ne PDF-tiedostona itsellesi. Teht\xe4v\xe4n lis\xe4\xe4minen "kisakoriin" onnistuu painamalla teht\xe4v\xe4ss\xe4 esiintyv\xe4\xe4 koripainiketta, ja jo mukaan otetut teht\xe4v\xe4t l\xf6yd\xe4t yl\xe4reunan koria painamalla.'),r.a.createElement("p",null,"Voit my\xf6skin selailla teht\xe4vi\xe4, arvostella teht\xe4vi\xe4 ja lis\xe4t\xe4 uusia teht\xe4vi\xe4. Uuden teht\xe4v\xe4n lis\xe4\xe4minen arkistoon vaatii ensin yll\xe4pit\xe4j\xe4n hyv\xe4ksynn\xe4n uudelle teht\xe4v\xe4lle."))},w="".concat("/api","/task"),x="".concat("/api","/task/pending"),C=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:h()}},e.next=3,v.a.get(x,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(w,"/search"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(w,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=h())&&(a={headers:{Authorization:n}}),e.next=5,v.a.post(w,t,a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=h())&&(a={headers:{Authorization:n}}),e.next=5,v.a.put("".concat(w,"/").concat(t.id),t,a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.delete("".concat(w,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.put("".concat(w,"/").concat(t,"/accept"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(w,"/").concat(t,"/rate"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J={addtask:P,getTasks:C,getOneTask:L,getSearchedTasks:D,updateTask:A,deleteTask:K,getPendingTasks:T,acceptTask:U,updateViews:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(w,"/").concat(t,"/views"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRating:M,makePDF:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"multipart/form-data"},responseType:"blob"},e.next=3,v.a.post("".concat(w,"/").concat(a,"/pdf"),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),makePDFs:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"multipart/form-data"},responseType:"blob"},e.next=3,v.a.post("".concat(w,"/pdf"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(e){var t=e.tasks,a=e.addTaskToBasket,c=e.handleUpdateTask,s=Object(n.useState)([]),i=Object(u.a)(s,2),o=i[0],d=i[1],f=Object(n.useState)([]),v=Object(u.a)(f,2),b=v[0],E=v[1];Object(n.useEffect)((function(){d(Object(N.a)(t).sort(h).slice(0,5)),E(Object(N.a)(t).sort(k).slice(0,5))}),[t]);var g=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.updateViews(t.id);case 3:c(Object(y.a)({},t,{views:t.views+1})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e,t){return t.created.localeCompare(e.created)},k=function(e,t){return t.ratingsAVG-e.ratingsAVG};return r.a.createElement("div",{className:"frontpage"},r.a.createElement("h1",null,"Tervetuloa Kisateht\xe4v\xe4pankkiin!"),r.a.createElement("div",{className:"task-list frontpage-container"},r.a.createElement(S,null),r.a.createElement("div",{className:"new-favorite-lists"},r.a.createElement("div",{className:"new-list"},r.a.createElement("div",{className:"image-on-background"},r.a.createElement("h2",null,"Uusimmat teht\xe4v\xe4t"),r.a.createElement("div",{className:"task-list-title frontpage-item"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null))),o.map((function(e){return r.a.createElement(l.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return g(e)},key:e.id},r.a.createElement("div",{className:"task-list-item frontpage-item new-item"},r.a.createElement("div",{className:"black-basket-mobile",title:"Lis\xe4\xe4 koriin",onClick:function(t){return a(t,e)}}),r.a.createElement("span",{className:"span-bigger"},r.a.createElement("p",{className:"bigger-task-name-frontpage"},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket",title:"Lis\xe4\xe4 koriin",onClick:function(t){return a(t,e)}}))))}))),r.a.createElement("div",{className:"favorite-list"},r.a.createElement("div",{className:"image-on-background"},r.a.createElement("h2",null,"Suosituimmat teht\xe4v\xe4t"),r.a.createElement("div",{className:"task-list-title frontpage-item"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null))),b.map((function(e){return r.a.createElement(l.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return g(e)},key:e.id},r.a.createElement("div",{className:"task-list-item frontpage-item favorite-item"},r.a.createElement("div",{className:"black-basket-mobile",title:"Lis\xe4\xe4 koriin",onClick:function(t){return a(t,e)}}),r.a.createElement("span",{className:"span-bigger"},r.a.createElement("p",{className:"bigger-task-name-frontpage"},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket",title:"Lis\xe4\xe4 koriin",onClick:function(t){return a(t,e)}}))))}))))),r.a.createElement("footer",null,r.a.createElement("p",null,"Kuva: Suomen Partiolaiset/Eeva Helle")))},V=function(e){var t=e.setTasks,a=e.setAllTasks,c=Object(n.useState)(""),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],E=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,J.getSearchedTasks({search:l});case 4:r=e.sent,t(r),a(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),b("Haku ei onnistunut"),setTimeout((function(){b(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"search"},r.a.createElement(d,{message:v,type:"error"}),r.a.createElement("form",{onSubmit:E,className:"search-form"},r.a.createElement("input",{className:"search-input",type:"text",defaultValue:"",name:"search",placeholder:"Hakutermi",onChange:function(e){var t=e.target;return i(t.value)}}),r.a.createElement("button",{type:"submit",className:"search-tasks-button"},"Hae")))},I=a(40),R=a.n(I),H=a(28),z=function(e){var t=e.allTasks,a=e.categories,c=e.rules,s=e.series,l=(e.tasks,e.setTasks),i=Object(n.useState)([]),o=Object(u.a)(i,2),m=o[0],p=o[1],d=Object(n.useState)([]),f=Object(u.a)(d,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],k=g[1];Object(n.useEffect)((function(){if(v.length>0&&m.length>0&&h){for(var e=[],a=0;a<t.length;a++)for(var n=0;n<t[a].series.length;n++)v.includes(t[a].series[n].id)&&m.includes(t[a].category.id)&&t[a].rules.id===h.id&&!e.includes(t[a])&&e.push(t[a]);l(e)}else if(v.length>0&&m.length>0){for(var r=[],c=0;c<t.length;c++)for(var s=0;s<t[c].series.length;s++)v.includes(t[c].series[s].id)&&m.includes(t[c].category.id)&&!r.includes(t[c])&&r.push(t[c]);l(r)}else if(v.length>0&&h){for(var u=[],i=0;i<t.length;i++)for(var o=0;o<t[i].series.length;o++)v.includes(t[i].series[o].id)&&t[i].rules.id===h.id&&!u.includes(t[i])&&u.push(t[i]);l(u)}else if(m.length>0&&h)l(t.filter((function(e){return m.includes(e.category.id)&&e.rules.id===h.id})));else if(v.length>0){for(var p=[],d=0;d<t.length;d++)for(var f=0;f<t[d].series.length;f++)v.includes(t[d].series[f].id)&&!p.includes(t[d])&&p.push(t[d]);l(p)}else m.length>0?l(t.filter((function(e){return m.includes(e.category.id)}))):l(h?t.filter((function(e){return e.rules.id===h.id})):t)}),[m,v,h]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"filter"},r.a.createElement(H.a,{name:"filter-series",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e&&e.length>0?b(e.map((function(e){return e.id}))):(b([]),l(t))},options:s,isClearable:!0,placeholder:"Sarja",isMulti:!0})),r.a.createElement("div",{className:"filter"},r.a.createElement(H.a,{name:"filter-category",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e&&e.length>0?p(e.map((function(e){return e.id}))):(p([]),l(t))},options:a,isClearable:!0,placeholder:"Kategoria",isMulti:!0})),r.a.createElement("div",{className:"filter"},r.a.createElement(H.a,{name:"filter-rules",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e?k(e):(k(""),l(t))},options:c,isClearable:!0,placeholder:"S\xe4\xe4nn\xf6t"})))},B=a(31),Y=a.n(B),G=function(e){var t=e.user,a=e.originalTasks,c=e.categories,s=e.rules,i=e.seriess,o=e.addTaskToBasket,f=e.handleUpdateTask,v=e.handleDeleteTask,b=Object(n.useState)(a),E=Object(u.a)(b,2),g=E[0],h=E[1],k=Object(n.useState)(a),j=Object(u.a)(k,2),O=j[0],N=j[1],S=Object(n.useState)(null),w=Object(u.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(!1),D=Object(u.a)(T,2),L=D[0],P=D[1],A=Object(n.useState)(!1),K=Object(u.a)(A,2),U=K[0],M=K[1],F=Object(n.useState)(!1),I=Object(u.a)(F,2),H=I[0],B=I[1];Object(n.useEffect)((function(){h(a),N(a)}),[a]);var G=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.updateViews(t.id);case 3:f(Object(y.a)({},t,{views:t.views+1})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!window.confirm("Haluatko poistaa teht\xe4v\xe4n: ".concat(a.name))){e.next=6;break}return e.next=5,J.deleteTask(a.id);case 5:v(a.id);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),C("Jotain meni vikaan"),setTimeout((function(){C(null)}),5e3);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(e,t){return e.name.localeCompare(t.name)},Q=function(e,t){return t.name.localeCompare(e.name)},W=function(e,t){return e.ratingsAVG-t.ratingsAVG},X=function(e,t){return t.ratingsAVG-e.ratingsAVG},Z=function(e,t){return e.created.localeCompare(t.created)},$=function(e,t){return t.created.localeCompare(e.created)};return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Kisateht\xe4v\xe4pankki"),r.a.createElement("div",{className:"search-filter-container"},r.a.createElement(V,{setTasks:h,setAllTasks:N}),r.a.createElement(z,{tasks:g,allTasks:O,categories:c,rules:s,series:i,setTasks:h})),r.a.createElement(d,{message:x}),g&&g.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",{className:"arrow-inline"},r.a.createElement("div",{onClick:function(){h(L?g.sort(Q).concat([]):g.sort(q).concat([])),P(!L)}},"Teht\xe4v\xe4n nimi"),r.a.createElement("div",{className:"arrow-container"},r.a.createElement("i",{className:"name-arrow-up",onClick:function(){h(g.sort(Q).concat([]))}}),r.a.createElement("i",{className:"name-arrow-down",onClick:function(){h(g.sort(q).concat([]))}}))),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",{className:"arrow-inline"},r.a.createElement("div",{onClick:function(){h(U?g.sort(W).concat([]):g.sort(X).concat([])),M(!U)}},"Arvostelu"),r.a.createElement("div",{className:"arrow-container"},r.a.createElement("i",{className:"rating-arrow-up",onClick:function(){h(g.sort(W).concat([]))}}),r.a.createElement("i",{className:"rating-arrow-down",onClick:function(){h(g.sort(X).concat([]))}}))),r.a.createElement("span",{className:"arrow-inline"},r.a.createElement("div",{onClick:function(){h(H?g.sort(Z).concat([]):g.sort($).concat([])),B(!H)}},"Lis\xe4tty"),r.a.createElement("div",{className:"arrow-container"},r.a.createElement("i",{className:"created-arrow-up",onClick:function(){h(g.sort(Z).concat([]))}}),r.a.createElement("i",{className:"created-arrow-down",onClick:function(){h(g.sort($).concat([]))}}))),t&&r.a.createElement("span",null),r.a.createElement("span",null)),g.map((function(e){return r.a.createElement(l.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return G(e)},key:e.id},r.a.createElement("div",{className:"task-list-item"},r.a.createElement("div",{className:"black-basket-mobile",title:"Lis\xe4\xe4 koriin",onClick:function(t){return o(t,e)}}),r.a.createElement("span",{className:"span-bigger"},r.a.createElement("p",{className:"bigger-task-name"},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement(R.a,{rating:e.ratingsAVG,starRatedColor:"#f0e105",starDimension:"20px",starSpacing:"10px"})),e.created&&r.a.createElement("span",null,r.a.createElement(Y.a,{format:"DD.MM.YYYY HH:mm"},e.created)),t&&r.a.createElement("span",{className:"task-list-delete"},r.a.createElement("button",{className:"delete-button",onClick:function(t){return _(t,e)}},"Poista")),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket",title:"Lis\xe4\xe4 koriin",onClick:function(t){return o(t,e)}}))))})))},_=a(32),q=function(e){var t=e.name,a=e.date,n=e.place,c=e.type,s=e.logo,l=e.setName,u=e.setDate,i=e.setPlace,o=e.setType,m=e.setLogo;return r.a.createElement("div",null,r.a.createElement("h2",{className:"basket-title"},"Kisan tiedot"),r.a.createElement("div",{className:"competition-container"},r.a.createElement("div",{className:"competition"},r.a.createElement("div",null,r.a.createElement("input",{className:"competition-name",type:"text",value:t,name:"Name",placeholder:"Kisan nimi",onChange:function(e){var t=e.target;return l(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"competition-date",type:"text",value:a,name:"Name",placeholder:"Kisan p\xe4iv\xe4m\xe4\xe4r\xe4",onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"competition-place",type:"text",value:n,name:"Name",placeholder:"Kisapaikka",onChange:function(e){var t=e.target;return i(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"competition-type",type:"text",value:c,name:"Name",placeholder:"Kisan laji",onChange:function(e){var t=e.target;return o(t.value)}}))),r.a.createElement("div",{className:"competition-dropzone"},r.a.createElement(_.a,{onDrop:function(e){m(e[0])}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement("div",{className:"files competition-files"},!s&&r.a.createElement("div",{className:"title"},"Logo"),s&&r.a.createElement("div",{key:s.name},r.a.createElement("img",{src:URL.createObjectURL(s)}),r.a.createElement("span",{onClick:function(e){return function(e){e.stopPropagation(),m(null)}(e)},className:"remove-file"}))))})))))},Q=function(e){var t=e.tasks,a=e.removeTaskFromBasket,c=e.handleUpdateTask,s=e.removeAllFromBasket,i=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.updateViews(t.id);case 3:c(Object(y.a)({},t,{views:t.views+1})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),N=O[0],S=O[1],w=Object(n.useState)(""),x=Object(u.a)(w,2),C=x[0],T=x[1],D=Object(n.useState)(null),L=Object(u.a)(D,2),P=L[0],A=L[1],K=Object(n.useState)(""),U=Object(u.a)(K,2),M=U[0],F=U[1],V=Object(n.useState)(!1),I=Object(u.a)(V,2),R=I[0],H=I[1],z=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),n=new FormData,r=JSON.stringify({name:v,date:h,place:N,type:C,tasks:t.map((function(e){return e.id}))}),n.append("competition",r),P&&n.append("logo",P,P.name),e.prev=5,e.next=8,J.makePDFs(n);case 8:c=e.sent,b(""),k(""),S(""),T(""),A(null),s=window.URL.createObjectURL(new Blob([c],{type:"application/zip"})),(l=document.createElement("a")).href=s,l.setAttribute("download","Rastit.zip"),document.body.appendChild(l),l.click(),H(!1),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),F("Jotain meni vikaan"),setTimeout((function(){F(null)}),5e3);case 27:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"task-list"},r.a.createElement(d,{message:M,type:"error"}),t&&t.length>0&&r.a.createElement(q,{name:v,date:h,place:N,type:C,logo:P,setName:b,setDate:k,setPlace:S,setType:T,setLogo:A}),r.a.createElement("h2",{className:"basket-title"},"Kisaan valitut teht\xe4v\xe4t"),t&&t.length>0&&r.a.createElement("button",{className:"basket-delete-all",onClick:s},"Poista kaikki"),t&&0===t.length&&r.a.createElement("div",{className:"empty-basket"},"Ei valittuja teht\xe4vi\xe4"),t&&t.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null,"Liitetiedostot"),r.a.createElement("span",null)),t.map((function(e){return r.a.createElement("div",{className:"task-list-item",key:e.id},r.a.createElement("div",{className:"delete-task-from-basket-mobile",onClick:function(){return a(e.id)}}),r.a.createElement("span",null,r.a.createElement(l.b,{to:"/tehtava/".concat(e.id),onClick:function(){return i(e)}},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,e.files&&e.files.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("a",{href:"https://kisapankkifiles.blob.core.windows.net/files/".concat(e)},e.substring(e.indexOf("-")+1,e.length)))}))),r.a.createElement("span",{className:"delete-task-from-basket",onClick:function(){return a(e.id)}}))})),t&&t.length>0&&r.a.createElement("div",{className:"make-pdfs"},R?r.a.createElement("div",{className:"loader in-basket"}):r.a.createElement("button",{onClick:z},"Tee PDF-tiedostot")))},W="".concat("/api","/user"),X=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(W);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z={addUser:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.post(W,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUsers:X,editUser:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.put(W,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),l=Object(u.a)(s,2),i=l[0],o=l[1],f=Object(n.useState)(null),v=Object(u.a)(f,2),b=v[0],E=v[1],g=Object(n.useState)(null),h=Object(u.a)(g,2),k=h[0],j=h[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),N=y[0],S=y[1],w=Object(n.useState)(null),x=Object(u.a)(w,2),C=x[0],T=x[1],D=Object(n.useState)(""),L=Object(u.a)(D,2),P=L[0],A=L[1],K=Object(n.useState)(""),U=Object(u.a)(K,2),M=U[0],J=U[1],F=Object(n.useState)(""),V=Object(u.a)(F,2),I=V[0],R=V[1],H=Object(n.useState)([]),z=Object(u.a)(H,2),B=z[0],Y=z[1],G=Object(n.useState)(""),_=Object(u.a)(G,2),q=_[0],Q=_[1],W=Object(n.useState)(!0),X=Object(u.a)(W,2),$=X[0],ee=X[1];Object(n.useEffect)((function(){Z.getUsers().then((function(e){Y(e)}))}),[]);var te=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E(null),j(null),S(null),T(null),P.length<3&&E("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),M.length<3&&j("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),I.length<3&&S("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),B.some((function(e){return e.username===M}))&&j("K\xe4ytt\xe4j\xe4tunnus on varattu"),!(P.length<3||M.length<3||I.length<3||B.some((function(e){return e.username===M})))){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,Z.addUser({name:P,username:M,email:q,password:I,allowNotifications:$});case 14:A(""),J(""),Q(""),R(""),ee(!0),c("Yll\xe4pit\xe4j\xe4 lis\xe4tty!"),setTimeout((function(){c(null)}),5e3),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(11),o("Lis\xe4\xe4minen ep\xe4onnistui"),setTimeout((function(){o(null)}),5e3);case 27:case"end":return e.stop()}}),e,null,[[11,23]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"signup-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 yll\xe4pit\xe4j\xe4"),r.a.createElement(d,{message:a,type:"success"}),r.a.createElement(d,{message:i,type:"error"}),r.a.createElement("form",{onSubmit:te},r.a.createElement("div",{className:"Testi"},r.a.createElement(d,{message:b,type:"error"}),r.a.createElement("input",{className:"name",type:"text",value:P,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return A(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:k,type:"error"}),r.a.createElement("input",{className:"username",type:"text",value:M,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return J(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:C,type:"error"}),r.a.createElement("input",{className:"email",type:"email",value:q,name:"email",placeholder:"S\xe4hk\xf6postiosoite",onChange:function(e){var t=e.target;return Q(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:N,type:"error"}),r.a.createElement("input",{className:"password",type:"password",value:I,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return R(t.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Vastaanota ilmoituksia:",r.a.createElement("div",{className:"admin-radio",onChange:function(e){var t=e.target;return ee(t.value)}},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!0,defaultChecked:!0}),"Kyll\xe4"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!1}),"Ei")))),r.a.createElement("button",{type:"submit",className:"signup-button"},"Lis\xe4\xe4")))},ee="".concat("/api","/rule"),te=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(ee);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae={addRule:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.post(ee,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRules:te,editRule:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.put("".concat(ee,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteRule:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.delete("".concat(ee,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(e){var t=e.rules,a=e.setRules,c=e.categories,s=Object(n.useState)(""),l=Object(u.a)(s,2),i=l[0],o=l[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),b=v[0],E=v[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),k=h[0],j=h[1],O=Object(n.useState)(null),N=Object(u.a)(O,2),S=N[0],w=N[1],x=Object(n.useState)(!1),C=Object(u.a)(x,2),T=C[0],D=C[1],L=Object(n.useState)([]),P=Object(u.a)(L,2),A=P[0],K=P[1],U=Object(n.useState)([]),M=Object(u.a)(U,2),J=M[0],F=M[1],V=Object(n.useState)(!0),I=Object(u.a)(V,2),R=I[0],z=(I[1],function(){var e=Object(p.a)(m.a.mark((function e(n){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=A,e.prev=2,e.next=5,ae.addRule({rules:i,acceptedCategories:A.map((function(e){return e.id}))});case 5:c=e.sent,o(""),K([]),a(t.concat(Object(y.a)({},c,{acceptedCategories:r}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),w("Jotain meni vikaan"),setTimeout((function(){w(null)}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()),B=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa s\xe4\xe4nn\xf6n: ".concat(n.name))){e.next=5;break}return e.next=4,ae.deleteRule(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),w("Jotain meni vikaan"),setTimeout((function(){w(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:k,name:b,acceptedCategories:J},e.prev=2,e.next=5,ae.editRule({id:k,name:b,acceptedCategories:J.map((function(e){return e.id}))});case 5:D(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),w("Jotain meni vikaan"),setTimeout((function(){w(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){F(e)};return r.a.createElement("div",{className:"rule-form"},r.a.createElement(d,{message:S,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"rule-list-item",key:e.id},T&&k===e.id?r.a.createElement("div",{className:"rule-form-item"},r.a.createElement("form",{onSubmit:Y},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"rule",type:"text",value:b,name:"Category",onChange:function(e){var t=e.target;return E(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"rule-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return D(!1)}},"Peruuta"))),r.a.createElement("div",{className:"modify-acceptedCategories"},r.a.createElement(H.a,{name:"accepted-categories",value:J,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:G,options:c,isClearable:R,placeholder:"S\xe4\xe4nn\xf6n kategoriat",isMulti:!0})))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},e.name),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){D(!0),j(e.id),E(e.name),F(e.acceptedCategories)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return B(e)},className:"delete-button"},"Poista")),r.a.createElement("div",{className:"break"}),r.a.createElement("div",{className:"accepted-categories-list"},e.acceptedCategories&&e.acceptedCategories.map((function(e){return r.a.createElement("span",{key:e.id},e.name," ")})))))})),r.a.createElement("form",{onSubmit:z,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"rule",type:"text",value:i,name:"Rules",placeholder:"Uusi s\xe4\xe4nt\xf6",onChange:function(e){var t=e.target;return o(t.value)}}),r.a.createElement("button",{type:"submit",className:"rule-add-button"},"Lis\xe4\xe4")),r.a.createElement("div",{className:"add-acceptedCategories"},r.a.createElement(H.a,{name:"accepted-categories",value:A,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){K(e)},options:c,isClearable:R,placeholder:"Uuden s\xe4\xe4nn\xf6n kategoriat",isMulti:!0}))))},re="".concat("/api","/language"),ce=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(re);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.post(re,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.put("".concat(re,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue={addLanguage:se,getLanguages:ce,deleteLanguage:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.delete("".concat(re,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editLanguage:le},ie=function(e){var t=e.languages,a=e.setLanguages,c=Object(n.useState)(""),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(null),O=Object(u.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(!1),w=Object(u.a)(S,2),x=w[0],C=w[1],T=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,ue.addLanguage({language:l});case 4:r=e.sent,i(""),a(t.concat(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N("Kielen lis\xe4\xe4minen ei onnistunut"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa kielen: ".concat(n.name))){e.next=5;break}return e.next=4,ue.deleteLanguage(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:h,name:v},e.prev=2,e.next=5,ue.editLanguage(r);case 5:C(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"language-form"},r.a.createElement(d,{message:y,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"language-list-item",key:e.id},x&&h===e.id?r.a.createElement("div",{className:"language-form-item"},r.a.createElement("form",{onSubmit:L},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"language",type:"text",value:v,name:"Language",onChange:function(e){var t=e.target;return b(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"language-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return C(!1)}},"Peruuta"))))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},e.name),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){C(!0),k(e.id),b(e.name)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return D(e)},className:"delete-button"},"Poista"))))})),r.a.createElement("form",{onSubmit:T,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"language",type:"text",value:l,name:"Language",placeholder:"Uusi kieli",onChange:function(e){var t=e.target;return i(t.value)}}),r.a.createElement("button",{type:"submit",className:"language-add-button"},"Lis\xe4\xe4"))))},oe=a(77),me="".concat("/api","/series"),pe=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(me);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.post(me,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.put("".concat(me,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve={addSeries:de,getSeries:pe,deleteSerie:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.delete("".concat(me,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editSerie:fe},be=function(e){var t=e.series,a=e.setSeries,c=Object(n.useState)(""),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)("#ffffff"),w=Object(u.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(null),D=Object(u.a)(T,2),L=D[0],P=D[1],A=Object(n.useState)(!1),K=Object(u.a)(A,2),U=K[0],M=K[1],J=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,ve.addSeries({name:l,color:x});case 4:r=e.sent,i(""),C(""),a(t.concat(r)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),P("Jotain meni vikaan"),setTimeout((function(){P(null)}),5e3);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa sarjan: ".concat(n.name))){e.next=5;break}return e.next=4,ve.deleteSerie(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),P("Jotain meni vikaan"),setTimeout((function(){P(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:h,name:v,color:y},e.prev=2,e.next=5,ve.editSerie(r);case 5:M(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),P("Jotain meni vikaan"),setTimeout((function(){P(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"series-form"},r.a.createElement(d,{message:L,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"serie-list-item",key:e.id},U&&h===e.id?r.a.createElement("div",{className:"serie-form-item"},r.a.createElement("form",{onSubmit:V},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"serie",type:"text",value:v,name:"Serie",onChange:function(e){var t=e.target;return b(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"serie-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return M(!1)}},"Peruuta")),r.a.createElement("div",{className:"color-picker"},r.a.createElement(oe.CirclePicker,{color:y,onChangeComplete:function(e){return N(e.hex)},colors:["#253764","#28aae1","#f04150","#f0a01e","#f0e105","#14a54b","#f5ea2e","#d4791e","#5e0f75","#33652e","#6e470a","#607d8b"]}))))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},r.a.createElement("span",null,e.name),r.a.createElement("span",{style:{backgroundColor:e.color,display:"inline-block",borderRadius:"50%",height:"27px",width:"27px",marginLeft:"5px"}})),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){M(!0),k(e.id),b(e.name),N(e.color)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return F(e)},className:"delete-button"},"Poista"))))})),r.a.createElement("form",{onSubmit:J,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"name",type:"text",value:l,name:"Name",placeholder:"Uusi sarja",onChange:function(e){var t=e.target;return i(t.value)}}),r.a.createElement("button",{type:"submit",className:"series-submit-button"},"Lis\xe4\xe4")),r.a.createElement("div",{className:"color-picker"},r.a.createElement(oe.CirclePicker,{color:x,onChangeComplete:function(e){return C(e.hex)},colors:["#253764","#28aae1","#f04150","#f0a01e","#f0e105","#14a54b","#f5ea2e","#d4791e","#5e0f75","#33652e","#6e470a","#607d8b"]}))))},Ee="".concat("/api","/category"),ge=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(Ee);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he={addCategory:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.post(Ee,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCategories:ge,editCategory:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={headers:{Authorization:h()}},e.next=4,v.a.put("".concat(Ee,"/").concat(t.id),t,a);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:h()}},e.next=3,v.a.delete("".concat(Ee,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ke=function(e){var t=e.categories,a=e.setCategories,c=Object(n.useState)(""),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(null),O=Object(u.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(!1),w=Object(u.a)(S,2),x=w[0],C=w[1],T=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,he.addCategory({category:l});case 4:r=e.sent,i(""),a(t.concat(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa kategorian: ".concat(n.name))){e.next=5;break}return e.next=4,he.deleteCategory(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:h,name:v},e.prev=2,e.next=5,he.editCategory(r);case 5:C(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"category-form"},r.a.createElement(d,{message:y,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"category-list-item",key:e.id},x&&h===e.id?r.a.createElement("div",{className:"category-form-item"},r.a.createElement("form",{onSubmit:L},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"category",type:"text",value:v,name:"Category",onChange:function(e){var t=e.target;return b(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"category-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return C(!1)}},"Peruuta"))))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},e.name),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){C(!0),k(e.id),b(e.name)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return D(e)},className:"delete-button"},"Poista"))))})),r.a.createElement("form",{onSubmit:T,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"category",type:"text",value:l,name:"Category",placeholder:"Uusi kategoria",onChange:function(e){var t=e.target;return i(t.value)}}),r.a.createElement("button",{type:"submit",className:"category-add-button"},"Lis\xe4\xe4"))))},je=function(e){var t=e.rules,a=e.categories,c=e.languages,s=e.series,l=e.setRules,i=e.setCategories,o=e.setLanguages,m=e.setSeries,p=Object(n.useState)(!1),d=Object(u.a)(p,2),f=d[0],v=d[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),g=E[0],h=E[1],k=Object(n.useState)(!1),j=Object(u.a)(k,2),O=j[0],y=j[1],N=Object(n.useState)(!1),S=Object(u.a)(N,2),w=S[0],x=S[1];return r.a.createElement("div",{className:"crls-container"},r.a.createElement("div",{className:"task-types-menu"},w?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return x(!w)}},"Sulje sarjat"),r.a.createElement(be,{series:s,setSeries:m})):r.a.createElement("button",{className:"task-types",onClick:function(){return x(!w)}},"Sarjat")),r.a.createElement("div",{className:"task-types-menu"},g?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return h(!g)}},"Sulje s\xe4\xe4nn\xf6t"),r.a.createElement(ne,{rules:t,setRules:l,categories:a})):r.a.createElement("button",{className:"task-types",onClick:function(){return h(!g)}},"S\xe4\xe4nn\xf6t")),r.a.createElement("div",{className:"task-types-menu"},f?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return v(!f)}},"Sulje kategoriat"),r.a.createElement(ke,{categories:a,setCategories:i})):r.a.createElement("button",{className:"task-types",onClick:function(){return v(!f)}},"Kategoriat")),r.a.createElement("div",{className:"task-types-menu"},O?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return y(!O)}},"Sulje kielet"),r.a.createElement(ie,{languages:c,setLanguages:o})):r.a.createElement("button",{className:"task-types",onClick:function(){return y(!O)}},"Kielet")))},Oe=a(30),ye="".concat("/api","/file"),Ne={updateFiles:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"multipart/form-data"}},e.next=3,v.a.post(ye,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=a(136),we=a.n(Se),xe=a(137),Ce=a.n(xe),Te=(a(389),function(e){var t=e.setText,a=e.setMD,n=e.value,c=new we.a;return r.a.createElement(Ce.a,{value:n,renderHTML:function(e){return c.render(e)},onChange:function(e){var n=e.html,r=e.text;t(n),a(r)}})}),De=function(e){var t=e.user,a=e.addTask,c=e.rules,s=e.seriess,l=e.languages,i=Object(n.useState)(""),o=Object(u.a)(i,2),f=o[0],v=o[1],b=Object(n.useState)(""),E=Object(u.a)(b,2),g=E[0],h=E[1],k=Object(n.useState)(""),j=Object(u.a)(k,2),O=j[0],N=j[1],S=Object(n.useState)(""),w=Object(u.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(""),D=Object(u.a)(T,2),L=D[0],P=D[1],A=Object(n.useState)(""),K=Object(u.a)(A,2),U=K[0],M=K[1],F=Object(n.useState)(""),V=Object(u.a)(F,2),I=V[0],R=V[1],H=Object(n.useState)(""),z=Object(u.a)(H,2),B=z[0],Y=z[1],G=Object(n.useState)(""),q=Object(u.a)(G,2),Q=q[0],W=q[1],X=Object(n.useState)(""),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)([]),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(""),se=Object(u.a)(ce,2),le=se[0],ue=se[1],ie=Object(n.useState)([]),oe=Object(u.a)(ie,2),me=oe[0],pe=oe[1],de=Object(n.useState)(""),fe=Object(u.a)(de,2),ve=fe[0],be=fe[1],Ee=Object(n.useState)(""),ge=Object(u.a)(Ee,2),he=ge[0],ke=ge[1],je=Object(n.useState)(""),ye=Object(u.a)(je,2),Se=ye[0],we=ye[1],xe=Object(n.useState)(null),Ce=Object(u.a)(xe,2),De=Ce[0],Le=Ce[1],Pe=Object(n.useState)(null),Ae=Object(u.a)(Pe,2),Ke=Ae[0],Ue=Ae[1],Me=Object(n.useState)(null),Je=Object(u.a)(Me,2),Fe=Je[0],Ve=Je[1],Ie=Object(n.useState)(null),Re=Object(u.a)(Ie,2),He=Re[0],ze=Re[1],Be=Object(n.useState)(null),Ye=Object(u.a)(Be,2),Ge=Ye[0],_e=Ye[1],qe=Object(n.useState)([]),Qe=Object(u.a)(qe,2),We=Qe[0],Xe=Qe[1],Ze=Object(n.useState)({}),$e=Object(u.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(n.useState)(!1),nt=Object(u.a)(at,2),rt=nt[0],ct=nt[1],st=Object(n.useState)(""),lt=Object(u.a)(st,2),ut=lt[0],it=lt[1],ot=Object(n.useState)(""),mt=Object(u.a)(ot,2),pt=mt[0],dt=mt[1],ft=Object(n.useState)(""),vt=Object(u.a)(ft,2),bt=vt[0],Et=vt[1],gt=Object(n.useState)(0),ht=Object(u.a)(gt,2),kt=ht[0],jt=ht[1],Ot=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),Le(null),Ue(null),Ve(null),ze(null),_e(null),O.length<1&&Le("Nimi ei saa olla tyhj\xe4"),x.length<1&&Ue("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),he.length<1&&Ve("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),Se.length<1&&ze("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),""!==ve&&""!==$&&""!==me&&""!==le||_e("Valitsethan arvon kaikkiin pudotuskenttiin"),!(O.length<1||x.length<1||he.length<1||Se.length<1||""===ve||""===$||""===me||""===le)){e.next=13;break}return e.abrupt("return");case 13:if(C(JSON.stringify(x)),P(JSON.stringify(L)),M(JSON.stringify(U)),r=new FormData,We.length>0)for(c=0;c<We.length;c++)r.append("filesToAdd",We[c],et[We[c].name]);return s=[],e.prev=19,e.next=22,Ne.updateFiles(r);case 22:return s=e.sent,e.next=25,J.addtask({name:O,rule:$,category:le,series:me,language:ve,assignmentText:x,gradingScale:L,creatorName:he,creatorEmail:Se,supervisorInstructions:U,assignmentTextMD:I,gradingScaleMD:B,supervisorInstructionsMD:Q,files:s});case 25:l=e.sent,N(""),ee(""),ue(""),pe(""),be(""),C(""),P(""),we(""),ke(""),M(""),Xe([]),tt({}),jt(kt+1),t&&a(l),window.scrollTo({top:0,behavior:"smooth"}),v("Teht\xe4v\xe4 lis\xe4tty!"),setTimeout((function(){v(null)}),2e3),e.next=49;break;case 45:e.prev=45,e.t0=e.catch(19),h("Jotain meni vikaan"),setTimeout((function(){h(null)}),5e3);case 49:case"end":return e.stop()}}),e,null,[[19,45]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"add-task-container"},r.a.createElement("h2",null,"Lis\xe4\xe4 teht\xe4v\xe4"),r.a.createElement(d,{message:f,type:"success"}),r.a.createElement(d,{message:g,type:"error"}),r.a.createElement("form",{onSubmit:Ot},r.a.createElement("div",null,r.a.createElement(d,{message:De,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",value:O,name:"Name",placeholder:"Teht\xe4v\xe4n nimi",onChange:function(e){var t=e.target;return N(t.value)}})),r.a.createElement("div",null,r.a.createElement("h4",null,"Teht\xe4v\xe4nanto"),r.a.createElement(d,{message:Ke,type:"error"}),r.a.createElement(Te,{setText:C,setMD:R,key:kt+1})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostelu"),r.a.createElement(Te,{setText:P,setMD:Y,key:kt+2})),r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Rastimiehen ohje"),r.a.createElement(Te,{setText:M,setMD:W,key:kt+3})),r.a.createElement(d,{message:Ge,type:"error"}),r.a.createElement("div",{className:"dropdowns"},r.a.createElement("div",null,r.a.createElement("h4",{className:"series-mobile"},"Sarja"),r.a.createElement("select",{multiple:!0,value:me,onChange:function(e){return function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&""!==t[n].value&&a.push(t[n].value);pe(a)}(e)},className:"multiple-series"},r.a.createElement("option",{value:"",className:"series-info"},"Sarja (paina Ctrl, jos useita)"),s.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("select",{className:"rule-select",value:$,onChange:function(e){return function(e){if(ee(e.target.value),ue(""),e.target.value){var t=c.find((function(t){return t.id===e.target.value}));re(t.acceptedCategories)}else re([])}(e)}},r.a.createElement("option",{value:""},"S\xe4\xe4nn\xf6t"),c.map((function(e){return r.a.createElement("option",{className:"rule-options",key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{className:"category-select",value:le,onChange:function(e){return function(e){ue(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kategoria"),ne.map((function(e){return r.a.createElement("option",{className:"category-options",key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{className:"language-select",value:ve,onChange:function(e){return function(e){be(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kieli"),l.map((function(e){return r.a.createElement("option",{className:"language-options",key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"creator"},r.a.createElement("div",null,r.a.createElement(d,{message:Fe,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:he,name:"CreatorName",placeholder:"Lis\xe4\xe4j\xe4n nimi",onChange:function(e){var t=e.target;return ke(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:He,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:Se,name:"CreatorEmail",placeholder:"Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti",onChange:function(e){var t=e.target;return we(t.value)}}))),r.a.createElement(_.a,{onDrop:function(e){for(var t=[],a={},n=0;n<e.length;n++){for(var r=!1,c=0;c<We.length;c++)We[c].name===e[n].name&&(r=!0);r||(t.push(e[n]),a[e[n].name]=e[n].name)}Xe(We.concat(t)),tt(Object(y.a)({},et,{},a))}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement("div",{className:"files"},r.a.createElement("div",{className:"title"},"Liitetiedostot"),We.length>0&&r.a.createElement(r.a.Fragment,null,We.map((function(e){return r.a.createElement("div",{key:e.name},rt&&e.name===ut?r.a.createElement("div",null,r.a.createElement("input",{className:"",type:"text",value:pt,name:"ChangedFileName",onChange:function(e){var t=e.target;return dt(t.value)},onClick:function(e){return e.stopPropagation()}}),bt,r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),tt(Object(y.a)({},et,Object(Oe.a)({},t,pt+bt))),ct(!1),it(""),dt(""),Et("")}(t,e.name)}},"Tallenna"),r.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),ct(!1),it(""),dt(""),Et("")}(e)}},"Peruuta"))):r.a.createElement(n.Fragment,null,et[e.name],r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),ct(!0),it(t),dt(t.substring(0,t.lastIndexOf("."))),Et(t.substring(t.lastIndexOf(".")))}(t,e.name)},className:"edit-file"}),r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),Xe(We.filter((function(e){return e.name!==t})))}(t,e.name)},className:"remove-file"})))})))))})),r.a.createElement("button",{type:"submit",className:"add-task-button"},"Lis\xe4\xe4 teht\xe4v\xe4")))},Le=function(e){var t=e.handleAddTask,a=e.handleUpdateTask,c=e.handleDeleteTask,s=Object(n.useState)([]),i=Object(u.a)(s,2),o=i[0],f=i[1],v=Object(n.useState)(null),b=Object(u.a)(v,2),E=b[0],g=b[1],j=Object(n.useState)(null),O=Object(u.a)(j,2),N=O[0],S=O[1];Object(n.useEffect)((function(){if(!h()){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);k(t.token)}}J.getPendingTasks().then((function(e){f(e)}))}),[]);var w=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.updateViews(t.id);case 3:a(Object(y.a)({},t,{views:t.views+1})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!window.confirm("Haluatko poistaa teht\xe4v\xe4n: ".concat(a.name))){e.next=6;break}return e.next=5,J.deleteTask(a.id);case 5:c(a.id);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),S("Jotain meni vikaan"),setTimeout((function(){S(null)}),5e3);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Hyv\xe4ksynt\xe4\xe4 odottavat kisateht\xe4v\xe4t"),r.a.createElement(d,{message:E,type:"success"}),r.a.createElement(d,{message:N,type:"error"}),o&&o.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),o.map((function(e){return r.a.createElement(l.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return w(e)},key:e.id},r.a.createElement("div",{className:"task-list-item"},r.a.createElement("span",null,e.name,r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement("button",{className:"accept-button",onClick:function(a){return function(e,a){e.preventDefault();try{J.acceptTask(a.id),f(o.filter((function(e){return e.id!==a.id}))),t(a),g("Teht\xe4v\xe4 hyv\xe4ksytty"),setTimeout((function(){g(null)}),5e3)}catch(n){S("Jotain meni vikaan"),setTimeout((function(){S(null)}),5e3)}}(a,e)}},"Hyv\xe4ksy")),r.a.createElement("span",null,r.a.createElement("button",{className:"delete-button",onClick:function(t){return x(t,e)}},"Poista")),r.a.createElement("span",null)))})))},Pe="".concat("/api","/comment"),Ae=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(Pe,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,(a=h())&&(t={headers:{Authorization:a}}),e.next=5,v.a.get("".concat(Pe,"/pending"),t);case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=h(),console.log(n),n&&(a={headers:{Authorization:n}}),e.next=6,v.a.post(Pe,t,a);case 6:return r=e.sent,e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=h())&&(a={headers:{Authorization:n}}),e.next=5,v.a.put("".concat(Pe,"/").concat(t,"/accept"),t,a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je={getComments:Ae,getPendingComments:Ke,addComment:Ue,deleteComment:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=h())&&(a={headers:{Authorization:n}}),e.next=5,v.a.delete("".concat(Pe,"/").concat(t),a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),acceptComment:Me},Fe=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),l=Object(u.a)(s,2),i=l[0],o=(l[1],Object(n.useState)(null)),f=Object(u.a)(o,2),v=f[0],b=f[1];Object(n.useEffect)((function(){if(!h()){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);k(t.token)}}Je.getPendingComments().then((function(e){c(e)}))}),[]);var E=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.deleteComment(t.id);case 3:c(a.filter((function(e){return e.id!==t.id}))),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),b("Kommentin poistaminen ei onnistunut"),setTimeout((function(){b(null)}),5e3);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.acceptComment(t.id);case 3:c(a.filter((function(e){return e.id!==t.id}))),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),b("Kommentin hyv\xe4ksyminen ei onnistunut"),setTimeout((function(){b(null)}),5e3);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Hyv\xe4ksynt\xe4\xe4 odottavat kommentit"),r.a.createElement(d,{message:i,type:"success"}),r.a.createElement(d,{message:v,type:"error"}),a&&a.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Kommentti"),r.a.createElement("span",null),r.a.createElement("span",null,"Kommentoija"),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),a.map((function(e){return r.a.createElement("div",{className:"no-underline",key:e.id},r.a.createElement("div",{className:"task-list-item"},r.a.createElement("span",null,e.content),r.a.createElement("span",null),r.a.createElement("span",null,e.nickname),r.a.createElement("span",null,r.a.createElement("button",{className:"accept-button",onClick:function(){return g(e)}},"Hyv\xe4ksy")),r.a.createElement("span",null,r.a.createElement("button",{className:"delete-button",onClick:function(){return E(e)}},"Poista")),r.a.createElement("span",null)))})))},Ve=function(e){var t=e.handleAddTask,a=e.handleUpdateTask,n=e.handleDeleteTask;return r.a.createElement("div",null,r.a.createElement(Le,{handleAddTask:t,handleUpdateTask:a,handleDeleteTask:n}),r.a.createElement(Fe,null),r.a.createElement(l.b,{className:"no-underline",to:"/omasivu"},"Omat tiedot"),r.a.createElement("br",null),r.a.createElement(l.b,{className:"no-underline",to:"/lisaa_admin"},"Lis\xe4\xe4 yll\xe4pit\xe4j\xe4"),r.a.createElement("br",null),r.a.createElement(l.b,{className:"no-underline",to:"/lisaa_pudotusvalikkoon"},"Hallinnoi s\xe4\xe4nt\xf6j\xe4, kieli\xe4, sarjoja ja kategorioita"))},Ie=function(e){var t=e.setShowEdit,a=e.user,c=e.setUser,s=e.setMessage,l=Object(n.useState)(null),i=Object(u.a)(l,2),o=i[0],f=i[1],v=Object(n.useState)(null),b=Object(u.a)(v,2),E=b[0],g=b[1],h=Object(n.useState)(null),k=Object(u.a)(h,2),j=k[0],O=k[1],y=Object(n.useState)(null),N=Object(u.a)(y,2),S=N[0],w=N[1],x=Object(n.useState)(a.name),C=Object(u.a)(x,2),T=C[0],D=C[1],L=Object(n.useState)(a.username),P=Object(u.a)(L,2),A=P[0],K=P[1],U=Object(n.useState)(a.email),M=Object(u.a)(U,2),J=M[0],F=M[1],V=Object(n.useState)(a.allowNotifications),I=Object(u.a)(V,2),R=I[0],H=I[1],z=function(){var e=Object(p.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g(null),O(null),w(null),T.length<3&&g("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),A.length<3&&O("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),J.length<5&&w("S\xe4hk\xf6postissa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 5 kirjainta"),!(T.length<3||A.length<3)){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,e.next=12,Z.editUser({name:T,username:A,email:J,allowNotifications:R});case 12:n=e.sent,c(n),window.localStorage.setItem("loggedUser",JSON.stringify(n)),t(!1),s("Tietoja muokattu!"),setTimeout((function(){s(null)}),5e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&"username already exists"===e.t0.response.data.error?f("K\xe4ytt\xe4j\xe4tunnus on varattu"):f("Muokkaaminen ep\xe4onnistui"),setTimeout((function(){f(null)}),5e3);case 24:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"edit-user-form"},r.a.createElement("h2",null,"Omat tiedot"),r.a.createElement(d,{message:o,type:"error"}),r.a.createElement("form",{onSubmit:z},r.a.createElement("div",null,r.a.createElement(d,{message:E,type:"error"}),r.a.createElement("label",null,"Nimi"),r.a.createElement("br",null),r.a.createElement("input",{className:"name",type:"text",value:T,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return D(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:j,type:"error"}),r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement("br",null),r.a.createElement("input",{className:"username",type:"text",value:A,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return K(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:S,type:"error"}),r.a.createElement("label",null,"S\xe4hk\xf6posti"),r.a.createElement("br",null),r.a.createElement("input",{className:"email",type:"text",value:J,name:"Email",placeholder:"S\xe4hk\xf6posti",onChange:function(e){var t=e.target;return F(t.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Vastaanota ilmoituksia:",r.a.createElement("div",{className:"admin-radio",onChange:function(e){var t=e.target;return H(t.value)}},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!0,defaultChecked:R}),"Kyll\xe4"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!1,defaultChecked:!R}),"Ei")))),r.a.createElement("button",{type:"submit",className:"edit-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return t(!1)},className:"cancel-button"},"Peruuta")))},Re=function(e){var t=e.setShowChangePassword,a=e.setMessage,c=Object(n.useState)(null),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(""),f=Object(u.a)(o,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),y=O[0],N=O[1],S=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i(null),!(h.length<3)){e.next=5;break}return i("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),e.abrupt("return");case 5:if(h===y){e.next=8;break}return i("Salasanat eiv\xe4t t\xe4sm\xe4\xe4"),e.abrupt("return");case 8:return e.prev=8,e.next=11,Z.editUser({oldPassword:v,newPassword:h});case 11:b(""),k(""),N(""),t(!1),a("Salasana vaihdettu!"),setTimeout((function(){a(null)}),5e3),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&"incorrect password"===e.t0.response.data.error?i("Vanha salasana ei t\xe4sm\xe4\xe4"):i("Salasanan vaihtaminen ep\xe4onnistui"),setTimeout((function(){i(null)}),5e3);case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"change-password-form"},r.a.createElement("h2",null,"Vaihda salasana"),r.a.createElement(d,{message:l,type:"error"}),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",null,r.a.createElement("input",{className:"old-password",type:"password",value:v,placeholder:"Vanha salasana",onChange:function(e){var t=e.target;return b(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"new-password",type:"password",value:h,placeholder:"Uusi salasana",onChange:function(e){var t=e.target;return k(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"new-password-again",type:"password",value:y,placeholder:"Uusi salasana uudelleen",onChange:function(e){var t=e.target;return N(t.value)}})),r.a.createElement("button",{type:"submit",className:"change-password-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return t(!1)},className:"cancel-button"},"Peruuta")))},He=function(e){var t=e.user,a=e.setUser,c=Object(n.useState)(null),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(!1),m=Object(u.a)(o,2),p=m[0],f=m[1],v=Object(n.useState)(!1),b=Object(u.a)(v,2),E=b[0],g=b[1];return r.a.createElement("div",null,t&&r.a.createElement("div",{className:"user-info"},!p&&!E&&r.a.createElement("div",null,r.a.createElement(d,{message:l,type:"success"}),r.a.createElement("h2",null,"Omat tiedot"),r.a.createElement("p",null,r.a.createElement("b",null,"Nimi: "),t.name),r.a.createElement("p",null,r.a.createElement("b",null,"K\xe4ytt\xe4j\xe4tunnus: "),t.username),r.a.createElement("p",null,r.a.createElement("b",null,"S\xe4hk\xf6postiosoite: "),t.email),r.a.createElement("p",null,r.a.createElement("b",null,"Ilmoitukset: "),t.allowNotifications?r.a.createElement("span",null,"P\xe4\xe4ll\xe4"):r.a.createElement("span",null,"Pois p\xe4\xe4lt\xe4")),r.a.createElement("button",{className:"edit-user-button",onClick:function(){return g(!1),void f(!0)}},"Muokkaa"),r.a.createElement("button",{className:"change-password-button",onClick:function(){return f(!1),void g(!0)}},"Vaihda salasana")),p&&r.a.createElement(Ie,{setShowEdit:f,user:t,setUser:a,setMessage:i}),E&&r.a.createElement(Re,{setShowChangePassword:g,setMessage:i})))},ze=function(e){var t=e.task,a=e.handleUpdateTask,c=Object(n.useState)(),s=Object(u.a)(c,2),l=s[0],i=(s[1],Object(n.useState)(null)),o=Object(u.a)(i,2),f=o[0],v=o[1],b=Object(n.useState)(null),E=Object(u.a)(b,2),g=E[0],h=E[1],k=Object(n.useState)(null),j=Object(u.a)(k,2),O=j[0],N=j[1],S=Object(n.useState)(t.ratingsAVG),w=Object(u.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(t.ratingsAmount),D=Object(u.a)(T,2),L=D[0],P=D[1],A=Object(n.useState)(!1),K=Object(u.a)(A,2),U=K[0],M=K[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("votes");e&&(JSON.parse(e).find((function(e){return e===t.id}))&&(M(!0),N("Kiitos! Olet jo arvioinut t\xe4m\xe4n rastin.")))}),[]);var F=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.addRating(t.id,{rating:n});case 3:r=e.sent,(c=window.localStorage.getItem("votes"))&&(s=JSON.parse(c),l=s.concat(t.id),window.localStorage.setItem("votes",JSON.stringify(l))),C(r.ratingsAVG),P(r.ratingsAmount),a(Object(y.a)({},t,{ratings:t.ratings[n-1]+1,ratingsAVG:r.ratingsAVG,ratingsAmount:r.ratingsAmount})),M(!0),h("Arvostelu l\xe4hetetty"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),v("Jotain meni vikaan"),setTimeout((function(){v(null)}),5e3);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"task-rating"},r.a.createElement(d,{message:f,type:"error"}),r.a.createElement(d,{message:g,type:"success"}),r.a.createElement("div",{className:"rating"},r.a.createElement("div",null,r.a.createElement("h4",null,"Keskiarvo:"),r.a.createElement(R.a,{rating:Number(x),starRatedColor:"yellow",starDimension:"20px",starSpacing:"10px"})),r.a.createElement("div",{className:"rating-amount"},"(",L,")")),r.a.createElement(d,{message:O,type:"rated"}),!U&&r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostele:"),r.a.createElement(R.a,{rating:l,changeRating:F,starDimension:"30px",starSpacing:"10px"})))},Be=function(e){var t=e.task,a=e.user,c=e.setComments,s=e.comments,l=Object(n.useState)(""),i=Object(u.a)(l,2),o=i[0],f=i[1],v=Object(n.useState)(""),b=Object(u.a)(v,2),E=b[0],g=b[1],h=Object(n.useState)(null),k=Object(u.a)(h,2),j=k[0],O=k[1],y=Object(n.useState)(null),N=Object(u.a)(y,2),S=N[0],w=N[1],x=function(){var e=Object(p.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Je.addComment({content:E,nickname:o,task:t.id});case 4:r=e.sent,a&&c(s.concat(r)),w("Kommentin lis\xe4\xe4minen onnistui"),setTimeout((function(){w(null)}),5e3),f(""),g(""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),O("Kommentin lis\xe4\xe4minen ei onnistunut"),setTimeout((function(){O(null)}),5e3);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(d,{message:S,type:"success"}),r.a.createElement(d,{message:j,type:"error"}),r.a.createElement("form",{onSubmit:x},r.a.createElement("div",null,r.a.createElement("input",{className:"",type:"text",value:o,name:"nickname",placeholder:"Nimimerkki",onChange:function(e){var t=e.target;return f(t.value)}})),r.a.createElement("div",null,r.a.createElement("textarea",{className:"textarea",type:"textarea",value:E,name:"content",placeholder:"Kommentti",onChange:function(e){var t=e.target;return g(t.value)},rows:"5",cols:"50"})),r.a.createElement("button",{type:"submit",className:"add-task-button"},"Lis\xe4\xe4 kommentti")))},Ye=function(e){var t=e.task,a=e.user,c=Object(n.useState)([]),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(null),f=Object(u.a)(o,2),v=f[0],b=f[1];Object(n.useEffect)((function(){Je.getComments(t.id).then((function(e){i(e)}))}),[]);var E=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je.deleteComment(t.id);case 3:i(l.filter((function(e){return e.id!==t.id}))),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),b("Kommentin poistaminen ei onnistunut"),setTimeout((function(){b(null)}),5e3);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(d,{message:v,type:"error"}),l.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"comment-date"},r.a.createElement(Y.a,{format:"DD.MM.YYYY HH:mm"},e.created),a&&r.a.createElement("button",{className:"button-delete-comment",onClick:function(){return E(e)}},"Poista")),r.a.createElement("div",{className:"comment-content"},e.content),r.a.createElement("div",null,r.a.createElement("div",{className:"comment-container"},r.a.createElement("div",null,r.a.createElement("div",{className:"user"})),r.a.createElement("div",{className:"user-right"},r.a.createElement("p",{className:"user-left"},e.nickname)))),r.a.createElement("div",{className:"space2"}))})),r.a.createElement("div",{className:"space"}),r.a.createElement(Be,{task:t,user:a,setComments:i,comments:l}))},Ge=function(e){var t=e.setModifyVisible,a=e.task,c=e.setTask,s=e.handleUpdateTask,l=e.rules,i=e.seriess,o=e.languages,f=Object(n.useState)(""),v=Object(u.a)(f,2),b=v[0],E=v[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),k=h[0],j=h[1],O=Object(n.useState)(a.name),N=Object(u.a)(O,2),S=N[0],w=N[1],x=Object(n.useState)(a.assignmentText),C=Object(u.a)(x,2),T=C[0],D=C[1],L=Object(n.useState)(a.gradingScale),P=Object(u.a)(L,2),A=P[0],K=P[1],U=Object(n.useState)(a.supervisorInstructions),M=Object(u.a)(U,2),F=M[0],V=M[1],I=Object(n.useState)(a.assignmentTextMD),R=Object(u.a)(I,2),H=R[0],z=R[1],B=Object(n.useState)(a.gradingScaleMD),Y=Object(u.a)(B,2),G=Y[0],q=Y[1],Q=Object(n.useState)(a.supervisorInstructionsMD),W=Object(u.a)(Q,2),X=W[0],Z=W[1],$=Object(n.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(a.rules?a.rules.id:null),re=Object(u.a)(ne,2),ce=re[0],se=re[1],le=Object(n.useState)(a.category?a.category.id:null),ue=Object(u.a)(le,2),ie=ue[0],oe=ue[1],me=Object(n.useState)(a.series.map((function(e){return e.id}))),pe=Object(u.a)(me,2),de=pe[0],fe=pe[1],ve=Object(n.useState)(a.language?a.language.id:null),be=Object(u.a)(ve,2),Ee=be[0],ge=be[1],he=Object(n.useState)(a.creatorName),ke=Object(u.a)(he,2),je=ke[0],ye=ke[1],Se=Object(n.useState)(a.creatorEmail),we=Object(u.a)(Se,2),xe=we[0],Ce=we[1],De=Object(n.useState)(null),Le=Object(u.a)(De,2),Pe=Le[0],Ae=Le[1],Ke=Object(n.useState)(null),Ue=Object(u.a)(Ke,2),Me=Ue[0],Je=Ue[1],Fe=Object(n.useState)(null),Ve=Object(u.a)(Fe,2),Ie=Ve[0],Re=Ve[1],He=Object(n.useState)(null),ze=Object(u.a)(He,2),Be=ze[0],Ye=ze[1],Ge=Object(n.useState)(null),_e=Object(u.a)(Ge,2),qe=_e[0],Qe=_e[1],We=Object(n.useState)(a.files||[]),Xe=Object(u.a)(We,2),Ze=Xe[0],$e=Xe[1],et=Object(n.useState)([]),tt=Object(u.a)(et,2),at=tt[0],nt=tt[1],rt=Object(n.useState)(""),ct=Object(u.a)(rt,2),st=ct[0],lt=ct[1],ut=Object(n.useState)({}),it=Object(u.a)(ut,2),ot=it[0],mt=it[1],pt=Object(n.useState)(!1),dt=Object(u.a)(pt,2),ft=dt[0],vt=dt[1],bt=Object(n.useState)(""),Et=Object(u.a)(bt,2),gt=Et[0],ht=Et[1],kt=Object(n.useState)(""),jt=Object(u.a)(kt,2),Ot=jt[0],yt=jt[1],Nt=Object(n.useState)([]),St=Object(u.a)(Nt,2),wt=St[0],xt=St[1],Ct=a.id;Object(n.useEffect)((function(){if(l&&a.rules&&a.rules.id){var e=l.find((function(e){return e.id===a.rules.id}));e&&ae(e.acceptedCategories)}}),[]);var Tt=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),Ae(null),Je(null),Re(null),Ye(null),Qe(null),S.length<1&&Ae("Nimi ei saa olla tyhj\xe4"),T.length<1&&Je("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),je.length<1&&Re("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),xe.length<1&&Ye("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),""!==Ee&&""!==ce&&""!==de&&""!==ie||Qe("Valitsethan arvon kaikkiin pudotuskenttiin"),!(S.length<1||T.length<1||je.length<1||xe.length<1||""===Ee||""===ce||""===de||""===ie)){e.next=13;break}return e.abrupt("return");case 13:if((n=new FormData).append("filesToDelete",wt),at.length>0)for(r=0;r<at.length;r++)n.append("filesToAdd",at[r],ot[at[r].name]);return l=[],e.prev=17,e.next=20,Ne.updateFiles(n);case 20:return l=e.sent,e.next=23,J.updateTask({name:S,rule:ce,category:ie,series:de,language:Ee,assignmentText:T,gradingScale:A,creatorName:je,creatorEmail:xe,supervisorInstructions:F,id:Ct,assignmentTextMD:H,gradingScaleMD:G,supervisorInstructionsMD:X,files:Ze.concat(l)});case 23:u=e.sent,E("Teht\xe4v\xe4 tallennettu!"),c(u),s(u),t(!1),setTimeout((function(){E(null)}),1e3),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(17),j("Jotain meni vikaan"),setTimeout((function(){j(null)}),5e3);case 35:case"end":return e.stop()}}),e,null,[[17,31]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"modify-task-container"},r.a.createElement("h2",null,"Muokkaa teht\xe4v\xe4\xe4"),r.a.createElement(d,{message:b,type:"success"}),r.a.createElement(d,{message:k,type:"error"}),r.a.createElement("form",{onSubmit:Tt,className:"modify-form"},r.a.createElement("div",null,r.a.createElement(d,{message:Pe,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",defaultValue:S,name:"Name",placeholder:"Teht\xe4v\xe4n nimi",onChange:function(e){var t=e.target;return w(t.value)}})),r.a.createElement("div",null,r.a.createElement("h4",null,"Teht\xe4v\xe4nanto"),r.a.createElement(d,{message:Me,type:"error"}),r.a.createElement(Te,{setText:D,setMD:z,value:H,placeHolder:"Teht\xe4v\xe4nanto"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostelu"),r.a.createElement(Te,{setText:K,setMD:q,value:G,placeHolder:"Arvostelu"})),r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Rastimiehen ohje"),r.a.createElement(Te,{setText:V,setMD:Z,value:X,placeHolder:"Rastimiehen ohje"})),r.a.createElement(d,{message:qe,type:"error"}),r.a.createElement("div",{className:"dropdowns"},r.a.createElement("div",null,r.a.createElement("h4",{className:"series-mobile"},"Sarja"),r.a.createElement("select",{multiple:!0,value:de,onChange:function(e){return function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&""!==t[n].value&&a.push(t[n].value);fe(a)}(e)},className:"multiple-series"},r.a.createElement("option",{value:"",className:"series-info"},"Sarja (paina Ctrl, jos useita)"),i.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("select",{value:ce,onChange:function(e){return function(e){if(se(e.target.value),oe(""),e.target.value){var t=l.find((function(t){return t.id===e.target.value}));ae(t.acceptedCategories)}else ae([])}(e)}},r.a.createElement("option",{value:""},"S\xe4\xe4nn\xf6t"),l.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:ie,onChange:function(e){return function(e){oe(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kategoria"),te.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:Ee,onChange:function(e){return function(e){ge(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kieli"),o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"creator"},r.a.createElement("div",null,r.a.createElement(d,{message:Ie,type:"error"}),r.a.createElement("input",{className:"",type:"text",defaultValue:je,name:"CreatorName",placeholder:"Muokkaajan nimi",onChange:function(e){var t=e.target;return ye(t.value)}})),r.a.createElement("div",null,r.a.createElement(d,{message:Be,type:"error"}),r.a.createElement("input",{className:"",type:"text",defaultValue:xe,name:"CreatorEmail",placeholder:"Muokkaajan s\xe4hk\xf6posti",onChange:function(e){var t=e.target;return Ce(t.value)}}))),r.a.createElement(_.a,{onDrop:function(e){for(var t=[],a={},n=0;n<e.length;n++){for(var r=!1,c=0;c<at.length;c++)at[c].name===e[n].name&&(r=!0);r||(t.push(e[n]),a[e[n].name]=e[n].name)}nt(at.concat(t)),mt(Object(y.a)({},ot,{},a))}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement("div",{className:"files"},r.a.createElement("div",{className:"title"},"Liitetiedostot"),Ze&&Ze.length>0&&r.a.createElement(r.a.Fragment,null,Ze.map((function(e){return r.a.createElement("div",{key:e},e.substring(e.indexOf("-")+1,e.length),r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),$e(Ze.filter((function(e){return e!==t}))),xt(wt.concat(t))}(t,e)},className:"remove-file"}))}))),at&&at.length>0&&r.a.createElement(r.a.Fragment,null,at.map((function(e){return r.a.createElement("div",{key:e.name},ft&&e.name===st?r.a.createElement("div",null,r.a.createElement("input",{className:"",type:"text",value:gt,name:"ChangedFileName",onChange:function(e){var t=e.target;return ht(t.value)},onClick:function(e){return e.stopPropagation()}}),Ot,r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),mt(Object(y.a)({},ot,Object(Oe.a)({},t,gt+Ot))),vt(!1),lt(""),ht(""),yt("")}(t,e.name)}},"Tallenna"),r.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),vt(!1),lt(""),ht(""),yt("")}(e)}},"Peruuta"))):r.a.createElement(n.Fragment,null,ot[e.name],r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),vt(!0),lt(t),ht(t.substring(0,t.lastIndexOf("."))),yt(t.substring(t.lastIndexOf(".")))}(t,e.name)},className:"edit-file"}),r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),nt(at.filter((function(e){return e.name!==t})))}(t,e.name)},className:"remove-file"})))})))))})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"save-task-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){t(!1)},className:"return-button"},"Peruuta"))))},_e=function(e){var t=e.text;return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(t)}})},qe=function(e){var t=e.match,a=e.user,c=e.rules,s=e.seriess,l=e.languages,o=e.addTaskToBasket,f=e.handleAddTask,v=e.handleUpdateTask,b=e.handleDeleteTask,E=Object(n.useState)(null),g=Object(u.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(null),w=Object(u.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(null),D=Object(u.a)(T,2),L=D[0],P=D[1],A=Object(n.useState)(""),K=Object(u.a)(A,2),U=K[0],M=K[1],F=Object(n.useState)(""),V=Object(u.a)(F,2),I=V[0],R=V[1],H=Object(n.useState)(""),z=Object(u.a)(H,2),B=z[0],G=z[1],_=Object(n.useState)(""),Q=Object(u.a)(_,2),W=Q[0],X=Q[1],Z=Object(n.useState)(null),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(u.a)(ae,2),re=ne[0],ce=ne[1],se=Object(n.useState)(!1),le=Object(u.a)(se,2),ue=le[0],ie=le[1],oe=Object(i.f)();Object(n.useEffect)((function(){J.getOneTask(t.params.id).then((function(e){k(e)}))}),[]);var me=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),t=new FormData,a=JSON.stringify({name:U,date:I,place:B,type:W,task:h.id}),t.append("competition",a),ee&&t.append("logo",ee,ee.name),e.prev=5,e.next=8,J.makePDF(t,h.id);case 8:n=e.sent,M(""),R(""),G(""),X(""),te(null),r=window.URL.createObjectURL(new Blob([n],{type:"application/pdf"})),(c=document.createElement("a")).href=r,c.setAttribute("download","".concat(h.name,".pdf")),document.body.appendChild(c),c.click(),ie(!1),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),P("Jotain meni vikaan"),setTimeout((function(){P(null)}),5e3);case 27:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,y?r.a.createElement(Ge,{setModifyVisible:N,task:h,rules:c,seriess:s,languages:l,setTask:k,handleUpdateTask:v}):r.a.createElement("div",null,r.a.createElement(d,{message:x,type:"success"}),r.a.createElement(d,{message:L,type:"error"}),h&&r.a.createElement("div",null,r.a.createElement("div",{className:"task-view-info-background"},r.a.createElement("div",{className:"task-view-info"},r.a.createElement("h2",null,h.name),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket-task-view",title:"Lis\xe4\xe4 koriin",onClick:function(e){return o(e,h)}})),r.a.createElement(ze,{task:h,handleUpdateTask:v})),r.a.createElement("h3",null,"Teht\xe4v\xe4nanto"),r.a.createElement(_e,{text:h.assignmentText}),r.a.createElement("h3",null,"Rastimiehen ohjeet"),r.a.createElement(_e,{text:h.supervisorInstructions}),r.a.createElement("h3",null,"Arvosteluasteikko"),r.a.createElement(_e,{text:h.gradingScale}),r.a.createElement("h3",null,"Sarja"),h.series.map((function(e){return r.a.createElement("span",{key:h.id+e.id},e.name,r.a.createElement("br",null))})),r.a.createElement("h3",null,"Kategoria"),r.a.createElement("p",null,h.category&&h.category.name),r.a.createElement("h3",null,"S\xe4\xe4nt\xf6luokka"),r.a.createElement("p",null,h.rules&&h.rules.name),r.a.createElement("h3",null,"Teht\xe4v\xe4n viimeisin muokkaaja"),r.a.createElement("p",null,h.creatorName,r.a.createElement("br",null),h.creatorEmail),r.a.createElement("h3",null,"Teht\xe4v\xe4 lis\xe4tty"),h.created&&r.a.createElement("p",null,r.a.createElement(Y.a,{format:"DD.MM.YYYY HH:mm"},h.created)),r.a.createElement("h3",null,"Liitetiedostot"),h.files&&0===h.files.length&&r.a.createElement("p",null,"-"),h.files&&h.files.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("a",{href:"https://kisapankki.blob.core.windows.net/files/".concat(e)},e.substring(e.indexOf("-")+1,e.length)))})),re?r.a.createElement("div",{className:"competition-task"},r.a.createElement("div",{className:"make-pdf right",onClick:function(){return ce(!1)}},"Sulje"),r.a.createElement(q,{name:U,date:I,place:B,type:W,logo:ee,setName:M,setDate:R,setPlace:G,setType:X,setLogo:te}),ue?r.a.createElement("div",{className:"loader in-task"}):r.a.createElement("button",{onClick:function(){return me()}},"Tee PDF-tiedosto")):r.a.createElement("div",{className:"make-pdf",onClick:function(){return ce(!0)}},"Lis\xe4\xe4 kisan tiedot/Tee PDF"),a&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){return N(!0)},className:"modify-view-button"},"Muokkaa"),h.pending&&r.a.createElement("button",{className:"accept-button",onClick:function(){return function(){try{J.acceptTask(h.id),C("Teht\xe4v\xe4 hyv\xe4ksytty"),f(h),setTimeout((function(){C(null),oe.push("/admin")}),2e3)}catch(e){P("Jotain meni vikaan"),setTimeout((function(){P(null)}),5e3)}}()}},"Hyv\xe4ksy"),r.a.createElement("button",{className:"delete-button",onClick:function(){return function(){try{window.confirm("Haluatko poistaa teht\xe4v\xe4n: ".concat(h.name))&&(J.deleteTask(h.id),b(h.id),C("Teht\xe4v\xe4 poistettu"),setTimeout((function(){C(null),h.pending?oe.push("/admin"):oe.push("/")}),2e3))}catch(e){P("Jotain meni vikaan"),setTimeout((function(){P(null)}),5e3)}}()}},"Poista"))),r.a.createElement("div",{className:"task-view-info-background"},r.a.createElement("h3",null,"Kommentit:"),r.a.createElement(Ye,{task:h,user:a})))))},Qe=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),o=Object(u.a)(s,2),m=o[0],p=o[1],d=Object(n.useState)(null),f=Object(u.a)(d,2),v=f[0],b=f[1],E=Object(n.useState)([]),g=Object(u.a)(E,2),h=g[0],y=g[1],N=Object(n.useState)([]),S=Object(u.a)(N,2),w=S[0],x=S[1],C=Object(n.useState)([]),T=Object(u.a)(C,2),D=T[0],L=T[1],P=Object(n.useState)([]),A=Object(u.a)(P,2),K=A[0],U=A[1],M=Object(i.f)();Object(n.useEffect)((function(){J.getTasks().then((function(e){p(e)}));var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);b(t),k(t.token)}if(!window.localStorage.getItem("votes")){window.localStorage.setItem("votes",JSON.stringify([]))}var a=window.localStorage.getItem("basket");if(a){var n=JSON.parse(a);c(n)}he.getCategories().then((function(e){y(e)})),ve.getSeries().then((function(e){L(e)})),ae.getRules().then((function(e){x(e)})),ue.getLanguages().then((function(e){U(e)}))}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("basket",JSON.stringify(a))}),[a]);var V=function(e){p(m.concat(e))},I=function(e){p(m.map((function(t){return t.id!==e.id?t:e}))),c(a.map((function(t){return t.id!==e.id?t:e})))},R=function(e){p(m.filter((function(t){return t.id!==e}))),c(a.filter((function(t){return t.id!==e})))},H=function(e,t){e.preventDefault(),e.stopPropagation(),a.find((function(e){return e.id===t.id}))||c(a.concat(t))},z=function(e){c(a.filter((function(t){return t.id!==e})))},B=function(){c([])};return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(l.b,{to:"/"},r.a.createElement("div",{className:"logo"})),r.a.createElement(l.b,{to:"/tehtavat"},r.a.createElement("button",{className:"addtask-button-header"},"Teht\xe4v\xe4t")),r.a.createElement(l.b,{to:"/lisaa_tehtava"},r.a.createElement("button",{className:"addtask-button-header"},"Lis\xe4\xe4 teht\xe4v\xe4")),null===v?r.a.createElement(n.Fragment,null,r.a.createElement(l.b,{to:"/kirjautuminen"},r.a.createElement("button",{className:"login-button-header"},"Kirjaudu"))):r.a.createElement(n.Fragment,null,r.a.createElement(l.b,{to:"/admin"},r.a.createElement("button",{className:"admin-button-header"},"Admin")),r.a.createElement("div",null,r.a.createElement("div",{className:"logged"},"Kirjautuneena ",r.a.createElement(l.b,{to:"/omasivu",className:"username-header"},v.username)),r.a.createElement("div",{className:"logout"},r.a.createElement("button",{className:"logout-button-header",onClick:function(){return window.localStorage.removeItem("loggedUser"),b(null),j(),void M.push("/")}},"Kirjaudu ulos")))),r.a.createElement(l.b,{to:"/valitut_tehtavat"},r.a.createElement("div",{className:"white-basket"},a.length>0&&r.a.createElement("span",{className:"number-of-tasks-in-basket"},a.length)))),r.a.createElement("div",{className:"admin-task-buttons-mobile"},r.a.createElement(l.b,{to:"/tehtavat"},r.a.createElement("button",{className:"addtask-button-mobile"},"Teht\xe4v\xe4t")),r.a.createElement(l.b,{to:"/lisaa_tehtava"},r.a.createElement("button",{className:"addtask-button-mobile"},"Lis\xe4\xe4 teht\xe4v\xe4")),null!==v&&r.a.createElement(l.b,{to:"/admin"},r.a.createElement("button",{className:"admin-button-mobile"},"Admin"))),r.a.createElement("div",{className:"container"},r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(F,{tasks:m,addTaskToBasket:H,handleUpdateTask:I})}}),r.a.createElement(i.b,{exact:!0,path:"/tehtava/:id",render:function(e){return r.a.createElement(qe,Object.assign({},e,{user:v,rules:w,seriess:D,languages:K,addTaskToBasket:H,handleAddTask:V,handleUpdateTask:I,handleDeleteTask:R}))}}),r.a.createElement(i.b,{path:"/tehtavat",render:function(){return r.a.createElement(G,{user:v,originalTasks:m,categories:h,rules:w,seriess:D,addTaskToBasket:H,handleUpdateTask:I,handleDeleteTask:R})}}),r.a.createElement(i.b,{path:"/valitut_tehtavat",render:function(){return r.a.createElement(Q,{tasks:a,removeTaskFromBasket:z,removeAllFromBasket:B,handleUpdateTask:I})}}),r.a.createElement(i.b,{path:"/kirjautuminen",render:function(){return r.a.createElement(O,{setUser:b})}}),r.a.createElement(i.b,{path:"/lisaa_tehtava",render:function(){return r.a.createElement(De,{user:v,addTask:V,rules:w,seriess:D,languages:K})}}),r.a.createElement(i.b,{path:"/omasivu",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(He,{user:v,setUser:b}):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/admin",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(Ve,{handleAddTask:V,handleUpdateTask:I,handleDeleteTask:R}):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/lisaa_admin",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement($,null):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/lisaa_pudotusvalikkoon",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(je,{rules:w,categories:h,languages:K,series:D,setRules:x,setCategories:y,setLanguages:U,setSeriess:L}):r.a.createElement(i.a,{to:"/"})}})))};a(390);s.a.render(r.a.createElement(l.a,null,r.a.createElement(Qe,null)),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.df1ec7d9.chunk.js.map