(this.webpackJsonpkisapankki=this.webpackJsonpkisapankki||[]).push([[0],{137:function(e,t,a){e.exports=a(390)},389:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),s=a(8),u=a(37),i=a(1),o=a(22),m=a(2),p=a.n(m),d=a(3),f=function(e){var t=e.message,a=e.type;return null===t?null:r.a.createElement("div",{className:a},t)},v=a(6),b=a.n(v),E="".concat("/api","/login"),g={login:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(E,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=null,k=function(){return h},j=function(e){h="bearer ".concat(e)},O=function(e){var t=e.setUser,a=Object(n.useState)(null),c=Object(i.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),m=Object(i.a)(u,2),v=m[0],b=m[1],E=Object(n.useState)(""),h=Object(i.a)(E,2),k=h[0],O=h[1],y=Object(n.useState)(""),N=Object(i.a)(y,2),S=N[0],w=N[1],x=Object(o.f)(),C=function(){var e=Object(d.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,g.login({username:v,email:k,password:S});case 4:n=e.sent,window.localStorage.setItem("loggedUser",JSON.stringify(n)),t(n),j(n.token),b(""),O(""),w(""),x.push("/"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),s("V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4tunnus/salasana"),setTimeout((function(){s(null)}),5e3);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-form"},r.a.createElement("h2",null,"Kirjaudu sis\xe4\xe4n"),r.a.createElement(f,{message:l,type:"error"}),r.a.createElement("form",{onSubmit:C},r.a.createElement("div",null,r.a.createElement("input",{className:"username",type:"text",value:v,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return b(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"password",type:"password",value:S,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return w(t.value)}})),r.a.createElement("button",{type:"submit",className:"login-button"},"Kirjaudu")))},y=a(77),N=function(){return r.a.createElement("div",{className:"frontpage-info"},r.a.createElement("h2",null,"Kisateht\xe4v\xe4pankki"),r.a.createElement("p",null,"Kisateht\xe4v\xe4pankki on arkisto, johon voidaan tallettaa teht\xe4vi\xe4. Sivustolle voi tallettaa teht\xe4v\xe4n, sek\xe4 siihen liittyv\xe4t liitetiedostot."),r.a.createElement("p",null,'Kirjautumattomana k\xe4ytt\xe4j\xe4n\xe4 voit koostaa teht\xe4vist\xe4 kisaa varten kokonaisuuksia, sek\xe4 ladata ne PDF-tiedostona itsellesi. Teht\xe4v\xe4n lis\xe4\xe4minen "kisakoriin" onnistuu painamalla teht\xe4v\xe4ss\xe4 esiintyv\xe4\xe4 koripainiketta, ja jo mukaan otetut teht\xe4v\xe4t l\xf6yd\xe4t yl\xe4reunan koria painamalla.'),r.a.createElement("p",null,"Voit my\xf6skin selailla teht\xe4vi\xe4, arvostella teht\xe4vi\xe4 ja lis\xe4t\xe4 uusia teht\xe4vi\xe4. Uuden teht\xe4v\xe4n lis\xe4\xe4minen arkistoon vaatii ensin yll\xe4pit\xe4j\xe4n hyv\xe4ksynn\xe4n uudelle teht\xe4v\xe4lle."))},S=function(e){var t=e.tasks,a=e.addTaskToBasket,c=e.handleUpdateViews,l=Object(n.useState)([]),u=Object(i.a)(l,2),o=u[0],m=u[1],p=Object(n.useState)([]),d=Object(i.a)(p,2),f=d[0],v=d[1];Object(n.useEffect)((function(){m(Object(y.a)(t).sort(b).slice(0,5)),v(Object(y.a)(t).sort(E).slice(0,5))}),[t]);var b=function(e,t){return t.created.localeCompare(e.created)},E=function(e,t){return t.ratingsAVG-e.ratingsAVG};return r.a.createElement("div",{className:"frontpage"},r.a.createElement("h1",null,"Tervetuloa Kisateht\xe4v\xe4pankkiin!"),r.a.createElement("div",{className:"task-list frontpage-container"},r.a.createElement(N,null),r.a.createElement("div",{className:"new-favorite-lists"},r.a.createElement("div",{className:"new-list"},r.a.createElement("div",{className:"image-on-background"},r.a.createElement("h2",null,"Uusimmat teht\xe4v\xe4t"),r.a.createElement("div",{className:"task-list-title frontpage-item"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null))),o.map((function(e){return r.a.createElement(s.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return c(e.id)}},r.a.createElement("div",{className:"task-list-item frontpage-item new-item",key:e.id},r.a.createElement("span",{className:"span-bigger"},r.a.createElement("p",{className:"bigger-task-name-frontpage"},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket",title:"Lis\xe4\xe4 koriin",onClick:function(t){return a(t,e)}}))))}))),r.a.createElement("div",{className:"favorite-list"},r.a.createElement("div",{className:"image-on-background"},r.a.createElement("h2",null,"Suosituimmat teht\xe4v\xe4t"),r.a.createElement("div",{className:"task-list-title frontpage-item"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null))),f.map((function(e){return r.a.createElement(s.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return c(e.id)}},r.a.createElement("div",{className:"task-list-item frontpage-item favorite-item",key:e.id},r.a.createElement("span",{className:"span-bigger"},r.a.createElement("p",{className:"bigger-task-name-frontpage"},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket",title:"Lis\xe4\xe4 koriin",onClick:function(t){return a(t,e)}}))))}))))),r.a.createElement("footer",null,r.a.createElement("p",null,"Kuva: Suomen Partiolaiset/Eeva Helle")))},w="".concat("/api","/task"),x="".concat("/api","/task/pending"),C=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:k()}},e.next=3,b.a.get(x,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(w,"/search"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(w,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=k())&&(a={headers:{Authorization:n}}),e.next=5,b.a.post(w,t,a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,(n=k())&&(a={headers:{Authorization:n}}),e.next=5,b.a.put("".concat(w,"/").concat(t.id),t,a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.delete("".concat(w,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.put("".concat(w,"/").concat(t,"/accept"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(w,"/").concat(t,"/rate"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P={addtask:A,getTasks:C,getOneTask:D,getSearchedTasks:L,updateTask:K,deleteTask:U,getPendingTasks:T,acceptTask:M,updateViews:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(w,"/").concat(t,"/views"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRating:V},J="".concat("/api","/series"),I=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(J);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.post(J,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.put("".concat(J,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H={addSeries:R,getSeries:I,deleteSerie:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.delete("".concat(J,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editSerie:F},z="".concat("/api","/rule"),B=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(z);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G={addRule:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.post(z,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRules:B,editRule:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.put("".concat(z,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteRule:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.delete("".concat(z,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_="".concat("/api","/category"),Y=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(_);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q={addCategory:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.post(_,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCategories:Y,editCategory:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={headers:{Authorization:k()}},e.next=4,b.a.put("".concat(_,"/").concat(t.id),t,a);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.delete("".concat(_,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){var t=e.setTasks,a=e.setAllTasks,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),v=m[0],b=m[1],E=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,P.getSearchedTasks({search:s});case 4:r=e.sent,t(r),a(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),b("Haku ei onnistunut"),setTimeout((function(){b(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"search"},r.a.createElement(f,{message:v,type:"error"}),r.a.createElement("form",{onSubmit:E,className:"search-form"},r.a.createElement("input",{className:"search-input",type:"text",defaultValue:"",name:"search",placeholder:"Hakutermi",onChange:function(e){var t=e.target;return u(t.value)}}),r.a.createElement("button",{type:"submit",className:"search-tasks-button"},"Hae")))},W=a(36),X=a.n(W),Z=a(27),$=function(e){var t=e.allTasks,a=e.categories,c=e.rules,l=e.series,s=(e.tasks,e.setTasks),u=Object(n.useState)([]),o=Object(i.a)(u,2),m=o[0],p=o[1],d=Object(n.useState)([]),f=Object(i.a)(d,2),v=f[0],b=f[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],k=g[1];Object(n.useEffect)((function(){if(v.length>0&&m.length>0&&h){for(var e=[],a=0;a<t.length;a++)for(var n=0;n<t[a].series.length;n++)v.includes(t[a].series[n].id)&&m.includes(t[a].category.id)&&t[a].rules.id===h.id&&!e.includes(t[a])&&e.push(t[a]);s(e)}else if(v.length>0&&m.length>0){for(var r=[],c=0;c<t.length;c++)for(var l=0;l<t[c].series.length;l++)v.includes(t[c].series[l].id)&&m.includes(t[c].category.id)&&!r.includes(t[c])&&r.push(t[c]);s(r)}else if(v.length>0&&h){for(var u=[],i=0;i<t.length;i++)for(var o=0;o<t[i].series.length;o++)v.includes(t[i].series[o].id)&&t[i].rules.id===h.id&&!u.includes(t[i])&&u.push(t[i]);s(u)}else if(m.length>0&&h)s(t.filter((function(e){return m.includes(e.category.id)&&e.rules.id===h.id})));else if(v.length>0){for(var p=[],d=0;d<t.length;d++)for(var f=0;f<t[d].series.length;f++)v.includes(t[d].series[f].id)&&!p.includes(t[d])&&p.push(t[d]);s(p)}else m.length>0?s(t.filter((function(e){return m.includes(e.category.id)}))):s(h?t.filter((function(e){return e.rules.id===h.id})):t)}),[m,v,h]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"filter"},r.a.createElement(Z.a,{name:"filter-series",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e&&e.length>0?b(e.map((function(e){return e.id}))):(b([]),s(t))},options:l,isClearable:!0,placeholder:"Sarja",isMulti:!0})),r.a.createElement("div",{className:"filter"},r.a.createElement(Z.a,{name:"filter-category",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e&&e.length>0?p(e.map((function(e){return e.id}))):(p([]),s(t))},options:a,isClearable:!0,placeholder:"Kategoria",isMulti:!0})),r.a.createElement("div",{className:"filter"},r.a.createElement(Z.a,{name:"filter-rules",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){e?k(e):(k(""),s(t))},options:c,isClearable:!0,placeholder:"S\xe4\xe4nn\xf6t"})))},ee=a(50),te=a.n(ee),ae=function(e){var t=e.user,a=e.originalTasks,c=e.addTaskToBasket,l=e.handleUpdateViews,u=e.setOriginalTasks,o=Object(n.useState)(a),m=Object(i.a)(o,2),v=m[0],b=m[1],E=Object(n.useState)(a),g=Object(i.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)([]),w=Object(i.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)([]),L=Object(i.a)(T,2),D=L[0],A=L[1],K=Object(n.useState)([]),U=Object(i.a)(K,2),M=U[0],V=U[1];Object(n.useEffect)((function(){q.getCategories().then((function(e){C(e)})),H.getSeries().then((function(e){V(e)})),G.getRules().then((function(e){A(e)}))}),[]),Object(n.useEffect)((function(){b(a),k(a)}),[a]);var J=function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!window.confirm("Haluatko poistaa teht\xe4v\xe4n: ".concat(a.name))){e.next=7;break}return e.next=5,P.deleteTask(a.id);case 5:b(v.filter((function(e){return e.id!==a.id}))),u(v.filter((function(e){return e.id!==a.id})));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(e,t){return t.name.localeCompare(e.name)},R=function(e,t){return e.name.localeCompare(t.name)},F=function(e,t){return e.ratingsAVG-t.ratingsAVG},z=function(e,t){return t.ratingsAVG-e.ratingsAVG},B=function(e,t){return e.created.localeCompare(t.created)},_=function(e,t){return t.created.localeCompare(e.created)};return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Kisateht\xe4v\xe4pankki"),r.a.createElement("div",{className:"search-filter-container"},r.a.createElement(Q,{setTasks:b,setAllTasks:k}),r.a.createElement($,{tasks:v,allTasks:h,categories:x,rules:D,series:M,setTasks:b})),r.a.createElement(f,{message:y}),v&&v.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",{className:"arrow-inline"},"Teht\xe4v\xe4n nimi ",r.a.createElement("span",{className:"arrow-container"},r.a.createElement("i",{className:"name-arrow-up",onClick:function(){b(v.sort(I).concat([]))}}),r.a.createElement("i",{className:"name-arrow-down",onClick:function(){b(v.sort(R).concat([]))}}))),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",{className:"arrow-inline"},"Arvostelu ",r.a.createElement("span",{className:"arrow-container"},r.a.createElement("i",{className:"rating-arrow-up",onClick:function(){b(v.sort(F).concat([]))}}),r.a.createElement("i",{className:"rating-arrow-down",onClick:function(){b(v.sort(z).concat([]))}}))),r.a.createElement("span",{className:"arrow-inline"},"Lis\xe4tty ",r.a.createElement("span",{className:"arrow-container"},r.a.createElement("i",{className:"created-arrow-up",onClick:function(){b(v.sort(B).concat([]))}}),r.a.createElement("i",{className:"created-arrow-down",onClick:function(){b(v.sort(_).concat([]))}}))),t&&r.a.createElement("span",null),r.a.createElement("span",null)),v.map((function(e){return r.a.createElement(s.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return l(e.id)}},r.a.createElement("div",{className:"task-list-item",key:e.id},r.a.createElement("span",{className:"span-bigger"},r.a.createElement("p",{className:"bigger-task-name"},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,r.a.createElement(X.a,{rating:e.ratingsAVG,starRatedColor:"#f0e105",starDimension:"20px",starSpacing:"10px"})),e.created&&r.a.createElement("span",null,r.a.createElement(te.a,{format:"DD.MM.YYYY HH:mm"},e.created)),t&&r.a.createElement("span",{className:"task-list-delete"},r.a.createElement("button",{className:"delete-button",onClick:function(t){return J(t,e)}},"Poista")),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket",title:"Lis\xe4\xe4 koriin",onClick:function(t){return c(t,e)}}))))})))},ne=function(e){var t=e.tasks,a=e.removeTaskFromBasket,n=e.handleUpdateViews,c=e.removeAllFromBasket;return r.a.createElement("div",{className:"task-list"},r.a.createElement("h2",{className:"basket-title"},"Kisaan valitut teht\xe4v\xe4t"),t&&t.length>0&&r.a.createElement("button",{className:"basket-delete-all",onClick:c},"Poista kaikki"),t&&0===t.length&&r.a.createElement("div",{className:"empty-basket"},"Ei valittuja teht\xe4vi\xe4"),t&&t.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null,"Liitetiedostot"),r.a.createElement("span",null)),t.map((function(e){return r.a.createElement("div",{className:"task-list-item",key:e.id},r.a.createElement("div",{className:"delete-task-from-basket-mobile",onClick:function(){return a(e.id)}}),r.a.createElement("span",null,r.a.createElement(s.b,{to:"/tehtava/".concat(e.id),onClick:function(){return n(e.id)}},e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("span",null,e.files&&e.files.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("a",{href:"https://kisapankki.blob.core.windows.net/files/".concat(e)},e.substring(e.indexOf("-")+1,e.length)))}))),r.a.createElement("span",{className:"delete-task-from-basket",onClick:function(){return a(e.id)}}))})))},re="".concat("/api","/user"),ce=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(re);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le={addUser:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.post(re,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUsers:ce,editUser:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.put(re,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),u=s[0],o=s[1],m=Object(n.useState)(null),v=Object(i.a)(m,2),b=v[0],E=v[1],g=Object(n.useState)(null),h=Object(i.a)(g,2),k=h[0],j=h[1],O=Object(n.useState)(null),y=Object(i.a)(O,2),N=y[0],S=y[1],w=Object(n.useState)(null),x=Object(i.a)(w,2),C=x[0],T=x[1],L=Object(n.useState)(""),D=Object(i.a)(L,2),A=D[0],K=D[1],U=Object(n.useState)(""),M=Object(i.a)(U,2),V=M[0],P=M[1],J=Object(n.useState)(""),I=Object(i.a)(J,2),R=I[0],F=I[1],H=Object(n.useState)([]),z=Object(i.a)(H,2),B=z[0],G=z[1],_=Object(n.useState)(""),Y=Object(i.a)(_,2),q=Y[0],Q=Y[1],W=Object(n.useState)(!0),X=Object(i.a)(W,2),Z=X[0],$=X[1];Object(n.useEffect)((function(){le.getUsers().then((function(e){G(e)}))}),[]);var ee=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E(null),j(null),S(null),T(null),A.length<3&&E("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),V.length<3&&j("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),R.length<3&&S("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),B.some((function(e){return e.username===V}))&&j("K\xe4ytt\xe4j\xe4tunnus on varattu"),!(A.length<3||V.length<3||R.length<3||B.some((function(e){return e.username===V})))){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,le.addUser({name:A,username:V,email:q,password:R,allowNotifications:Z});case 14:K(""),P(""),Q(""),F(""),$(!0),c("Yll\xe4pit\xe4j\xe4 lis\xe4tty!"),setTimeout((function(){c(null)}),5e3),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(11),o("Lis\xe4\xe4minen ep\xe4onnistui"),setTimeout((function(){o(null)}),5e3);case 27:case"end":return e.stop()}}),e,null,[[11,23]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"signup-form"},r.a.createElement("h2",null,"Lis\xe4\xe4 yll\xe4pit\xe4j\xe4"),r.a.createElement(f,{message:a,type:"success"}),r.a.createElement(f,{message:u,type:"error"}),r.a.createElement("form",{onSubmit:ee},r.a.createElement("div",{className:"Testi"},r.a.createElement(f,{message:b,type:"error"}),r.a.createElement("input",{className:"name",type:"text",value:A,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return K(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:k,type:"error"}),r.a.createElement("input",{className:"username",type:"text",value:V,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return P(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:C,type:"error"}),r.a.createElement("input",{className:"email",type:"email",value:q,name:"email",placeholder:"S\xe4hk\xf6postiosoite",onChange:function(e){var t=e.target;return Q(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:N,type:"error"}),r.a.createElement("input",{className:"password",type:"password",value:R,name:"Password",placeholder:"Salasana",onChange:function(e){var t=e.target;return F(t.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Vastaanota ilmoituksia:",r.a.createElement("div",{className:"admin-radio",onChange:function(e){var t=e.target;return $(t.value)}},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!0,defaultChecked:!0}),"Kyll\xe4"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!1}),"Ei")))),r.a.createElement("button",{type:"submit",className:"signup-button"},"Lis\xe4\xe4")))},ue=function(e){var t=e.rules,a=e.setRules,c=e.categories,l=Object(n.useState)(""),s=Object(i.a)(l,2),o=s[0],m=s[1],v=Object(n.useState)(""),b=Object(i.a)(v,2),E=b[0],g=b[1],h=Object(n.useState)(""),k=Object(i.a)(h,2),j=k[0],O=k[1],y=Object(n.useState)(null),N=Object(i.a)(y,2),S=N[0],w=N[1],x=Object(n.useState)(!1),C=Object(i.a)(x,2),T=C[0],L=C[1],D=Object(n.useState)([]),A=Object(i.a)(D,2),K=A[0],U=A[1],M=Object(n.useState)([]),V=Object(i.a)(M,2),P=V[0],J=V[1],I=Object(n.useState)(!0),R=Object(i.a)(I,2),F=R[0],H=(R[1],function(){var e=Object(d.a)(p.a.mark((function e(n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=K,e.prev=2,e.next=5,G.addRule({rules:o,acceptedCategories:K.map((function(e){return e.id}))});case 5:c=e.sent,m(""),U([]),a(t.concat(Object(u.a)({},c,{acceptedCategories:r}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),w("Jotain meni vikaan"),setTimeout((function(){w(null)}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()),z=function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa s\xe4\xe4nn\xf6n: ".concat(n.name))){e.next=5;break}return e.next=4,G.deleteRule(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),w("Jotain meni vikaan"),setTimeout((function(){w(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:j,name:E,acceptedCategories:P},e.prev=2,e.next=5,G.editRule({id:j,name:E,acceptedCategories:P.map((function(e){return e.id}))});case 5:L(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),w("Jotain meni vikaan"),setTimeout((function(){w(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){J(e)};return r.a.createElement("div",{className:"rule-form"},r.a.createElement(f,{message:S,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"rule-list-item",key:e.id},T&&j===e.id?r.a.createElement("div",{className:"rule-form-item"},r.a.createElement("form",{onSubmit:B},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"rule",type:"text",value:E,name:"Category",onChange:function(e){var t=e.target;return g(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"rule-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return L(!1)}},"Peruuta"))),r.a.createElement("div",{className:"modify-acceptedCategories"},r.a.createElement(Z.a,{name:"accepted-categories",value:P,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:_,options:c,isClearable:F,placeholder:"S\xe4\xe4nn\xf6n kategoriat",isMulti:!0})))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},e.name),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){L(!0),O(e.id),g(e.name),J(e.acceptedCategories)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return z(e)},className:"delete-button"},"Poista")),r.a.createElement("div",{className:"break"}),r.a.createElement("div",{className:"accepted-categories-list"},e.acceptedCategories&&e.acceptedCategories.map((function(e){return r.a.createElement("span",{key:e.id},e.name," ")})))))})),r.a.createElement("form",{onSubmit:H,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"rule",type:"text",value:o,name:"Rules",placeholder:"Uusi s\xe4\xe4nt\xf6",onChange:function(e){var t=e.target;return m(t.value)}}),r.a.createElement("button",{type:"submit",className:"rule-add-button"},"Lis\xe4\xe4")),r.a.createElement("div",{className:"add-acceptedCategories"},r.a.createElement(Z.a,{name:"accepted-categories",value:K,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.id)},onChange:function(e){U(e)},options:c,isClearable:F,placeholder:"Uuden s\xe4\xe4nn\xf6n kategoriat",isMulti:!0}))))},ie="".concat("/api","/language"),oe=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(ie);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.post(ie,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.put("".concat(ie,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de={addLanguage:me,getLanguages:oe,deleteLanguage:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:k()}},e.next=3,b.a.delete("".concat(ie,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editLanguage:pe},fe=function(e){var t=e.languages,a=e.setLanguages,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),v=m[0],b=m[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),x=w[0],C=w[1],T=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,de.addLanguage({language:s});case 4:r=e.sent,u(""),a(t.concat(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N("Kielen lis\xe4\xe4minen ei onnistunut"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa kielen: ".concat(n.name))){e.next=5;break}return e.next=4,de.deleteLanguage(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:h,name:v},e.prev=2,e.next=5,de.editLanguage(r);case 5:C(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"language-form"},r.a.createElement(f,{message:y,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"language-list-item",key:e.id},x&&h===e.id?r.a.createElement("div",{className:"language-form-item"},r.a.createElement("form",{onSubmit:D},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"language",type:"text",value:v,name:"Language",onChange:function(e){var t=e.target;return b(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"language-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return C(!1)}},"Peruuta"))))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},e.name),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){C(!0),k(e.id),b(e.name)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return L(e)},className:"delete-button"},"Poista"))))})),r.a.createElement("form",{onSubmit:T,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"language",type:"text",value:s,name:"Language",placeholder:"Uusi kieli",onChange:function(e){var t=e.target;return u(t.value)}}),r.a.createElement("button",{type:"submit",className:"language-add-button"},"Lis\xe4\xe4"))))},ve=a(76),be=function(e){var t=e.series,a=e.setSeries,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),v=m[0],b=m[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)("#ffffff"),w=Object(i.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(null),L=Object(i.a)(T,2),D=L[0],A=L[1],K=Object(n.useState)(!1),U=Object(i.a)(K,2),M=U[0],V=U[1],P=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,H.addSeries({name:s,color:x});case 4:r=e.sent,u(""),C(""),a(t.concat(r)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),A("Jotain meni vikaan"),setTimeout((function(){A(null)}),5e3);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa sarjan: ".concat(n.name))){e.next=5;break}return e.next=4,H.deleteSerie(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),A("Jotain meni vikaan"),setTimeout((function(){A(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:h,name:v,color:y},e.prev=2,e.next=5,H.editSerie(r);case 5:V(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),A("Jotain meni vikaan"),setTimeout((function(){A(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"series-form"},r.a.createElement(f,{message:D,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"serie-list-item",key:e.id},M&&h===e.id?r.a.createElement("div",{className:"serie-form-item"},r.a.createElement("form",{onSubmit:I},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"serie",type:"text",value:v,name:"Serie",onChange:function(e){var t=e.target;return b(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"serie-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return V(!1)}},"Peruuta")),r.a.createElement("div",{className:"color-picker"},r.a.createElement(ve.CirclePicker,{color:y,onChangeComplete:function(e){return N(e.hex)},colors:["#253764","#28aae1","#f04150","#f0a01e","#f0e105","#14a54b","#f5ea2e","#d4791e","#5e0f75","#33652e","#6e470a","#607d8b"]}))))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},r.a.createElement("span",null,e.name),r.a.createElement("span",{style:{backgroundColor:e.color,display:"inline-block",borderRadius:"50%",height:"27px",width:"27px",marginLeft:"5px"}})),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){V(!0),k(e.id),b(e.name),N(e.color)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return J(e)},className:"delete-button"},"Poista"))))})),r.a.createElement("form",{onSubmit:P,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"name",type:"text",value:s,name:"Name",placeholder:"Uusi sarja",onChange:function(e){var t=e.target;return u(t.value)}}),r.a.createElement("button",{type:"submit",className:"series-submit-button"},"Lis\xe4\xe4")),r.a.createElement("div",{className:"color-picker"},r.a.createElement(ve.CirclePicker,{color:x,onChangeComplete:function(e){return C(e.hex)},colors:["#253764","#28aae1","#f04150","#f0a01e","#f0e105","#14a54b","#f5ea2e","#d4791e","#5e0f75","#33652e","#6e470a","#607d8b"]}))))},Ee=function(e){var t=e.categories,a=e.setCategories,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),v=m[0],b=m[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),x=w[0],C=w[1],T=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,q.addCategory({category:s});case 4:r=e.sent,u(""),a(t.concat(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Haluatko poistaa kategorian: ".concat(n.name))){e.next=5;break}return e.next=4,q.deleteCategory(n.id);case 4:a(t.filter((function(e){return e.id!==n.id})));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={id:h,name:v},e.prev=2,e.next=5,q.editCategory(r);case 5:C(!1),a(t.map((function(e){return e.id!==r.id?e:r}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),N("Jotain meni vikaan"),setTimeout((function(){N(null)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"category-form"},r.a.createElement(f,{message:y,type:"error"}),t&&t.map((function(e){return r.a.createElement("div",{className:"category-list-item",key:e.id},x&&h===e.id?r.a.createElement("div",{className:"category-form-item"},r.a.createElement("form",{onSubmit:D},r.a.createElement("div",{className:"item-modify"},r.a.createElement("input",{className:"category",type:"text",value:v,name:"Category",onChange:function(e){var t=e.target;return b(t.value)}}),r.a.createElement("div",{className:"item-buttons-save"},r.a.createElement("button",{type:"submit",className:"category-save-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return C(!1)}},"Peruuta"))))):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"item-name"},e.name),r.a.createElement("div",{className:"item-buttons"},r.a.createElement("button",{onClick:function(){return function(e){C(!0),k(e.id),b(e.name)}(e)},className:"modify-button"},"Muokkaa"),r.a.createElement("button",{onClick:function(){return L(e)},className:"delete-button"},"Poista"))))})),r.a.createElement("form",{onSubmit:T,className:"add-form"},r.a.createElement("div",{className:"item-add"},r.a.createElement("input",{className:"category",type:"text",value:s,name:"Category",placeholder:"Uusi kategoria",onChange:function(e){var t=e.target;return u(t.value)}}),r.a.createElement("button",{type:"submit",className:"category-add-button"},"Lis\xe4\xe4"))))},ge=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),u=s[0],o=s[1],m=Object(n.useState)([]),p=Object(i.a)(m,2),d=p[0],f=p[1],v=Object(n.useState)([]),b=Object(i.a)(v,2),E=b[0],g=b[1],h=Object(n.useState)(!1),k=Object(i.a)(h,2),j=k[0],O=k[1],y=Object(n.useState)(!1),N=Object(i.a)(y,2),S=N[0],w=N[1],x=Object(n.useState)(!1),C=Object(i.a)(x,2),T=C[0],L=C[1],D=Object(n.useState)(!1),A=Object(i.a)(D,2),K=A[0],U=A[1];return Object(n.useEffect)((function(){G.getRules().then((function(e){c(e)})),q.getCategories().then((function(e){o(e)})),H.getSeries().then((function(e){g(e)})),de.getLanguages().then((function(e){f(e)}))}),[]),r.a.createElement("div",{className:"crls-container"},r.a.createElement("div",{className:"task-types-menu"},K?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return U(!K)}},"Sulje sarjat"),r.a.createElement(be,{series:E,setSeries:g})):r.a.createElement("button",{className:"task-types",onClick:function(){return U(!K)}},"Sarjat")),r.a.createElement("div",{className:"task-types-menu"},S?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return w(!S)}},"Sulje s\xe4\xe4nn\xf6t"),r.a.createElement(ue,{rules:a,setRules:c,categories:u})):r.a.createElement("button",{className:"task-types",onClick:function(){return w(!S)}},"S\xe4\xe4nn\xf6t")),r.a.createElement("div",{className:"task-types-menu"},j?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return O(!j)}},"Sulje kategoriat"),r.a.createElement(Ee,{categories:u,setCategories:o})):r.a.createElement("button",{className:"task-types",onClick:function(){return O(!j)}},"Kategoriat")),r.a.createElement("div",{className:"task-types-menu"},T?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"task-types",onClick:function(){return L(!T)}},"Sulje kielet"),r.a.createElement(fe,{languages:d,setLanguages:f})):r.a.createElement("button",{className:"task-types",onClick:function(){return L(!T)}},"Kielet")))},he="".concat("/api","/file"),ke={updateFiles:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"multipart/form-data"}},e.next=3,b.a.post(he,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=a(134),Oe=a.n(je),ye=a(135),Ne=a.n(ye),Se=(a(388),function(e){var t=e.setText,a=e.setMD,n=e.value,c=new Oe.a;return r.a.createElement(Ne.a,{value:n,renderHTML:function(e){return c.render(e)},onChange:function(e){var n=e.html,r=e.text;t(n),a(r)}})}),we=a(51),xe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],o=s[1],m=Object(n.useState)(""),v=Object(i.a)(m,2),b=v[0],E=v[1],g=Object(n.useState)(""),h=Object(i.a)(g,2),k=h[0],j=h[1],O=Object(n.useState)(""),y=Object(i.a)(O,2),N=y[0],S=y[1],w=Object(n.useState)(""),x=Object(i.a)(w,2),C=x[0],T=x[1],L=Object(n.useState)(""),D=Object(i.a)(L,2),A=D[0],K=D[1],U=Object(n.useState)(""),M=Object(i.a)(U,2),V=M[0],J=M[1],I=Object(n.useState)(""),R=Object(i.a)(I,2),F=R[0],z=R[1],B=Object(n.useState)([]),_=Object(i.a)(B,2),Y=_[0],q=_[1],Q=Object(n.useState)(""),W=Object(i.a)(Q,2),X=W[0],Z=W[1],$=Object(n.useState)([]),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(i.a)(ne,2),ce=re[0],le=re[1],se=Object(n.useState)([]),ue=Object(i.a)(se,2),ie=ue[0],oe=ue[1],me=Object(n.useState)([]),pe=Object(i.a)(me,2),fe=pe[0],ve=pe[1],be=Object(n.useState)([]),Ee=Object(i.a)(be,2),ge=Ee[0],he=Ee[1],je=Object(n.useState)(""),Oe=Object(i.a)(je,2),ye=Oe[0],Ne=Oe[1],xe=Object(n.useState)(""),Ce=Object(i.a)(xe,2),Te=Ce[0],Le=Ce[1],De=Object(n.useState)(""),Ae=Object(i.a)(De,2),Ke=Ae[0],Ue=Ae[1],Me=Object(n.useState)(null),Ve=Object(i.a)(Me,2),Pe=Ve[0],Je=Ve[1],Ie=Object(n.useState)(null),Re=Object(i.a)(Ie,2),Fe=Re[0],He=Re[1],ze=Object(n.useState)(null),Be=Object(i.a)(ze,2),Ge=Be[0],_e=Be[1],Ye=Object(n.useState)(null),qe=Object(i.a)(Ye,2),Qe=qe[0],We=qe[1],Xe=Object(n.useState)(null),Ze=Object(i.a)(Xe,2),$e=Ze[0],et=Ze[1],tt=Object(n.useState)([]),at=Object(i.a)(tt,2),nt=at[0],rt=at[1];Object(n.useEffect)((function(){G.getRules().then((function(e){q(e)})),H.getSeries().then((function(e){oe(e)})),de.getLanguages().then((function(e){he(e)}))}),[]);var ct=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Je(null),He(null),_e(null),We(null),et(null),b.length<1&&Je("Nimi ei saa olla tyhj\xe4"),k.length<1&&He("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),Te.length<1&&_e("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),Ke.length<1&&We("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),""!==ye&&""!==X&&""!==fe&&""!==ce||et("Valitsethan arvon kaikkiin pudotuskenttiin"),!(b.length<1||k.length<1||Te.length<1||Ke.length<1||""===ye||""===X||""===fe||""===ce)){e.next=13;break}return e.abrupt("return");case 13:if(j(JSON.stringify(k)),S(JSON.stringify(N)),T(JSON.stringify(C)),a=new FormData,nt.length>0)for(n=0;n<nt.length;n++)a.append("filesToAdd",nt[n],nt[n].name);return r=[],e.prev=19,e.next=22,ke.updateFiles(a);case 22:return r=e.sent,e.next=25,P.addtask({name:b,rule:X,category:ce,series:fe,language:ye,assignmentText:k,gradingScale:N,creatorName:Te,creatorEmail:Ke,supervisorInstructions:C,assignmentTextMD:A,gradingScaleMD:V,supervisorInstructionsMD:F,files:r});case 25:E(""),Z(""),le(""),ve(""),Ne(""),j(""),S(""),Ue(""),Le(""),T(""),c("Teht\xe4v\xe4 lis\xe4tty!"),setTimeout((function(){c(null),window.location.reload()}),2e3),e.next=43;break;case 39:e.prev=39,e.t0=e.catch(19),o("Jotain meni vikaan"),setTimeout((function(){o(null)}),5e3);case 43:case"end":return e.stop()}}),e,null,[[19,39]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"add-task-container"},r.a.createElement("h2",null,"Lis\xe4\xe4 teht\xe4v\xe4"),r.a.createElement(f,{message:a,type:"success"}),r.a.createElement(f,{message:u,type:"error"}),r.a.createElement("form",{onSubmit:ct},r.a.createElement("div",null,r.a.createElement(f,{message:Pe,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",value:b,name:"Name",placeholder:"Teht\xe4v\xe4n nimi",onChange:function(e){var t=e.target;return E(t.value)}})),r.a.createElement("div",null,r.a.createElement("h4",null,"Teht\xe4v\xe4nanto"),r.a.createElement(f,{message:Fe,type:"error"}),r.a.createElement(Se,{setText:j,setMD:K})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostelu"),r.a.createElement(Se,{setText:S,setMD:J})),r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Rastimiehen ohje"),r.a.createElement(Se,{setText:T,setMD:z})),r.a.createElement(f,{message:$e,type:"error"}),r.a.createElement("div",{className:"dropdowns"},r.a.createElement("div",null,r.a.createElement("select",{multiple:!0,value:fe,onChange:function(e){return function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&""!==t[n].value&&a.push(t[n].value);ve(a)}(e)},className:"multiple-series"},r.a.createElement("option",{value:"",className:"series-info"},"Sarja (paina Ctrl, jos useita)"),ie.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("select",{className:"rule-select",value:X,onChange:function(e){return function(e){if(Z(e.target.value),le(""),e.target.value){var t=Y.find((function(t){return t.id===e.target.value}));ae(t.acceptedCategories)}else ae([])}(e)}},r.a.createElement("option",{value:""},"S\xe4\xe4nn\xf6t"),Y.map((function(e){return r.a.createElement("option",{className:"rule-options",key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{className:"category-select",value:ce,onChange:function(e){return function(e){le(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kategoria"),te.map((function(e){return r.a.createElement("option",{className:"category-options",key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{className:"language-select",value:ye,onChange:function(e){return function(e){Ne(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kieli"),ge.map((function(e){return r.a.createElement("option",{className:"language-options",key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"creator"},r.a.createElement("div",null,r.a.createElement(f,{message:Ge,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:Te,name:"CreatorName",placeholder:"Lis\xe4\xe4j\xe4n nimi",onChange:function(e){var t=e.target;return Le(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:Qe,type:"error"}),r.a.createElement("input",{className:"",type:"text",value:Ke,name:"CreatorEmail",placeholder:"Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti",onChange:function(e){var t=e.target;return Ue(t.value)}}))),r.a.createElement(we.a,{onDrop:function(e){rt(nt.concat(e))}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement("div",{className:"files"},r.a.createElement("div",{className:"title"},"Liitetiedostot"),nt.length>0&&r.a.createElement(r.a.Fragment,null,nt.map((function(e){return r.a.createElement("div",{key:e.name},e.name,r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),rt(nt.filter((function(e){return e.name!==t})))}(t,e.name)},className:"remove-file"}))})))))})),r.a.createElement("button",{type:"submit",className:"add-task-button"},"Lis\xe4\xe4 teht\xe4v\xe4")))},Ce=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(i.a)(l,2),o=u[0],m=u[1],v=Object(n.useState)(null),b=Object(i.a)(v,2),E=b[0],g=b[1];Object(n.useEffect)((function(){if(!k()){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);j(t.token)}}P.getPendingTasks().then((function(e){c(e)}))}),[]);var h=function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!window.confirm("Haluatko poistaa teht\xe4v\xe4n: ".concat(a.find((function(e){return e.id===n})).name))){e.next=6;break}return e.next=5,P.deleteTask(n);case 5:c(a.filter((function(e){return e.id!==n})));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),g("Jotain meni vikaan"),setTimeout((function(){g(null)}),5e3);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"task-list"},r.a.createElement("h1",null,"Hyv\xe4ksynt\xe4\xe4 odottavat kisateht\xe4v\xe4t"),r.a.createElement(f,{message:o,type:"success"}),r.a.createElement(f,{message:E,type:"error"}),a&&a.length>0&&r.a.createElement("div",{className:"task-list-title"},r.a.createElement("span",null,"Teht\xe4v\xe4n nimi"),r.a.createElement("span",null,"Sarja"),r.a.createElement("span",null,"Kategoria"),r.a.createElement("span",null),r.a.createElement("span",null)),a.map((function(e){return r.a.createElement(s.b,{className:"no-underline",to:"/tehtava/".concat(e.id),onClick:function(){return P.updateViews(e.id)}},r.a.createElement("div",{className:"task-list-item",key:e.id},r.a.createElement("span",null,r.a.createElement("p",null," ",e.name),r.a.createElement("p",null,"Katselukertoja: ",e.views)),r.a.createElement("span",null,e.series.map((function(t){return r.a.createElement("div",{key:e.id+t.id},t.name," ")}))),r.a.createElement("span",null,e.category&&e.category.name),r.a.createElement("button",{className:"accept-button",onClick:function(t){return function(e,t){e.preventDefault();try{P.acceptTask(t),c(a.filter((function(e){return e.id!==t}))),m("Teht\xe4v\xe4 hyv\xe4ksytty"),setTimeout((function(){m(null)}),5e3)}catch(n){g("Jotain meni vikaan"),setTimeout((function(){g(null)}),5e3)}}(t,e.id)}},"Hyv\xe4ksy"),r.a.createElement("button",{className:"delete-button",onClick:function(t){return h(t,e.id)}},"Poista")))})))},Te=function(){return r.a.createElement("div",null,r.a.createElement(Ce,null),r.a.createElement(s.b,{className:"no-underline",to:"/omasivu"},"Omat tiedot"),r.a.createElement("br",null),r.a.createElement(s.b,{className:"no-underline",to:"/lisaa_admin"},"Lis\xe4\xe4 yll\xe4pit\xe4j\xe4"),r.a.createElement("br",null),r.a.createElement(s.b,{className:"no-underline",to:"/lisaa_pudotusvalikkoon"},"Hallinnoi s\xe4\xe4nt\xf6j\xe4/kieli\xe4/sarjoja/kategorioita"))},Le=function(e){var t=e.setShowEdit,a=e.user,c=e.setUser,l=e.setMessage,s=Object(n.useState)(null),u=Object(i.a)(s,2),o=u[0],m=u[1],v=Object(n.useState)(null),b=Object(i.a)(v,2),E=b[0],g=b[1],h=Object(n.useState)(null),k=Object(i.a)(h,2),j=k[0],O=k[1],y=Object(n.useState)(null),N=Object(i.a)(y,2),S=N[0],w=N[1],x=Object(n.useState)(a.name),C=Object(i.a)(x,2),T=C[0],L=C[1],D=Object(n.useState)(a.username),A=Object(i.a)(D,2),K=A[0],U=A[1],M=Object(n.useState)(a.email),V=Object(i.a)(M,2),P=V[0],J=V[1],I=Object(n.useState)(a.allowNotifications),R=Object(i.a)(I,2),F=R[0],H=R[1],z=function(){var e=Object(d.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g(null),O(null),w(null),T.length<3&&g("Nimess\xe4 pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),K.length<3&&O("K\xe4ytt\xe4j\xe4tunnuksessa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),P.length<5&&w("S\xe4hk\xf6postissa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 5 kirjainta"),!(T.length<3||K.length<3)){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,e.next=12,le.editUser({name:T,username:K,email:P,allowNotifications:F});case 12:n=e.sent,c(n),window.localStorage.setItem("loggedUser",JSON.stringify(n)),t(!1),l("Tietoja muokattu!"),setTimeout((function(){l(null)}),5e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&"username already exists"===e.t0.response.data.error?m("K\xe4ytt\xe4j\xe4tunnus on varattu"):m("Muokkaaminen ep\xe4onnistui"),setTimeout((function(){m(null)}),5e3);case 24:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"edit-user-form"},r.a.createElement("h2",null,"Omat tiedot"),r.a.createElement(f,{message:o,type:"error"}),r.a.createElement("form",{onSubmit:z},r.a.createElement("div",null,r.a.createElement(f,{message:E,type:"error"}),r.a.createElement("label",null,"Nimi"),r.a.createElement("br",null),r.a.createElement("input",{className:"name",type:"text",value:T,name:"Name",placeholder:"Nimi",onChange:function(e){var t=e.target;return L(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:j,type:"error"}),r.a.createElement("label",null,"K\xe4ytt\xe4j\xe4tunnus"),r.a.createElement("br",null),r.a.createElement("input",{className:"username",type:"text",value:K,name:"Username",placeholder:"K\xe4ytt\xe4j\xe4tunnus",onChange:function(e){var t=e.target;return U(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:S,type:"error"}),r.a.createElement("label",null,"S\xe4hk\xf6posti"),r.a.createElement("br",null),r.a.createElement("input",{className:"email",type:"text",value:P,name:"Email",placeholder:"S\xe4hk\xf6posti",onChange:function(e){var t=e.target;return J(t.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Vastaanota ilmoituksia:",r.a.createElement("div",{className:"admin-radio",onChange:function(e){var t=e.target;return H(t.value)}},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!0,defaultChecked:F}),"Kyll\xe4"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"notifications",value:!1,defaultChecked:!F}),"Ei")))),r.a.createElement("button",{type:"submit",className:"edit-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return t(!1)},className:"cancel-button"},"Peruuta")))},De=function(e){var t=e.setShowChangePassword,a=e.setMessage,c=Object(n.useState)(null),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),v=m[0],b=m[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),y=O[0],N=O[1],S=function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u(null),!(h.length<3)){e.next=5;break}return u("Salasanassa pit\xe4\xe4 olla v\xe4hint\xe4\xe4n 3 kirjainta"),e.abrupt("return");case 5:if(h===y){e.next=8;break}return u("Salasanat eiv\xe4t t\xe4sm\xe4\xe4"),e.abrupt("return");case 8:return e.prev=8,e.next=11,le.editUser({oldPassword:v,newPassword:h});case 11:b(""),k(""),N(""),t(!1),a("Salasana vaihdettu!"),setTimeout((function(){a(null)}),5e3),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),e.t0.response&&e.t0.response.data&&e.t0.response.data.error&&"incorrect password"===e.t0.response.data.error?u("Vanha salasana ei t\xe4sm\xe4\xe4"):u("Salasanan vaihtaminen ep\xe4onnistui"),setTimeout((function(){u(null)}),5e3);case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"change-password-form"},r.a.createElement("h2",null,"Vaihda salasana"),r.a.createElement(f,{message:s,type:"error"}),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",null,r.a.createElement("input",{className:"old-password",type:"password",value:v,placeholder:"Vanha salasana",onChange:function(e){var t=e.target;return b(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"new-password",type:"password",value:h,placeholder:"Uusi salasana",onChange:function(e){var t=e.target;return k(t.value)}})),r.a.createElement("div",null,r.a.createElement("input",{className:"new-password-again",type:"password",value:y,placeholder:"Uusi salasana uudelleen",onChange:function(e){var t=e.target;return N(t.value)}})),r.a.createElement("button",{type:"submit",className:"change-password-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){return t(!1)},className:"cancel-button"},"Peruuta")))},Ae=function(e){var t=e.user,a=e.setUser,c=Object(n.useState)(null),l=Object(i.a)(c,2),s=l[0],u=l[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),p=m[0],d=m[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),E=b[0],g=b[1];return r.a.createElement("div",null,t&&r.a.createElement("div",{className:"user-info"},!p&&!E&&r.a.createElement("div",null,r.a.createElement(f,{message:s,type:"success"}),r.a.createElement("h2",null,"Omat tiedot"),r.a.createElement("p",null,r.a.createElement("b",null,"Nimi: "),t.name),r.a.createElement("p",null,r.a.createElement("b",null,"K\xe4ytt\xe4j\xe4tunnus: "),t.username),r.a.createElement("p",null,r.a.createElement("b",null,"S\xe4hk\xf6postiosoite: "),t.email),r.a.createElement("p",null,r.a.createElement("b",null,"Ilmoitukset: "),t.allowNotifications?r.a.createElement("span",null,"P\xe4\xe4ll\xe4"):r.a.createElement("span",null,"Pois p\xe4\xe4lt\xe4")),r.a.createElement("button",{className:"edit-user-button",onClick:function(){return g(!1),void d(!0)}},"Muokkaa"),r.a.createElement("button",{className:"change-password-button",onClick:function(){return d(!1),void g(!0)}},"Vaihda salasana")),p&&r.a.createElement(Le,{setShowEdit:d,user:t,setUser:a,setMessage:u}),E&&r.a.createElement(De,{setShowChangePassword:g,setMessage:u})))},Ke=function(e){var t=e.task,a=e.tasks,c=e.setTasks,l=Object(n.useState)(),s=Object(i.a)(l,2),u=s[0],o=(s[1],Object(n.useState)(null)),m=Object(i.a)(o,2),v=m[0],b=m[1],E=Object(n.useState)(null),g=Object(i.a)(E,2),h=g[0],k=g[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(t.ratingsAVG),w=Object(i.a)(S,2),x=w[0],C=w[1],T=Object(n.useState)(t.ratingsAmount),L=Object(i.a)(T,2),D=L[0],A=L[1],K=Object(n.useState)(!1),U=Object(i.a)(K,2),M=U[0],V=U[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("votes");e&&(JSON.parse(e).find((function(e){return e===t.id}))&&(V(!0),N("Kiitos! Olet jo arvioinut t\xe4m\xe4n rastin.")))}),[]);var J=function(){var e=Object(d.a)(p.a.mark((function e(n){var r,l,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.addRating(t.id,{rating:n});case 3:r=e.sent,(l=window.localStorage.getItem("votes"))&&(s=JSON.parse(l),u=s.concat(t.id),window.localStorage.setItem("votes",JSON.stringify(u))),t.ratings[n-1]=t.ratings[n-1]+1,t.ratingsAVG=r.ratingsAVG,c(a.map((function(e){return e.id==t.id?t:e}))),C(r.ratingsAVG),A(r.ratingsAmount),V(!0),k("Arvostelu l\xe4hetetty"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),b("Jotain meni vikaan"),setTimeout((function(){b(null)}),5e3);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"task-rating"},r.a.createElement(f,{message:v,type:"error"}),r.a.createElement(f,{message:h,type:"success"}),r.a.createElement("div",{className:"rating"},r.a.createElement("div",null,r.a.createElement("h4",null,"Keskiarvo:"),r.a.createElement(X.a,{rating:Number(x),starRatedColor:"yellow",starDimension:"20px",starSpacing:"10px"})),r.a.createElement("div",{className:"rating-amount"},"(",D,")")),r.a.createElement(f,{message:y,type:"rated"}),!M&&r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostele:"),r.a.createElement(X.a,{rating:u,changeRating:J,starDimension:"30px",starSpacing:"10px"})))},Ue=function(e){var t=e.setModifyVisible,a=e.task,c=e.setTask,l=e.handleUpdateTask,s=Object(n.useState)(""),u=Object(i.a)(s,2),o=u[0],m=u[1],v=Object(n.useState)(""),b=Object(i.a)(v,2),E=b[0],g=b[1],h=Object(n.useState)(a.name),k=Object(i.a)(h,2),j=k[0],O=k[1],y=Object(n.useState)(a.assignmentText),N=Object(i.a)(y,2),S=N[0],w=N[1],x=Object(n.useState)(a.gradingScale),C=Object(i.a)(x,2),T=C[0],L=C[1],D=Object(n.useState)(a.supervisorInstructions),A=Object(i.a)(D,2),K=A[0],U=A[1],M=Object(n.useState)(a.assignmentTextMD),V=Object(i.a)(M,2),J=V[0],I=V[1],R=Object(n.useState)(a.gradingScaleMD),F=Object(i.a)(R,2),z=F[0],B=F[1],_=Object(n.useState)(a.supervisorInstructionsMD),Y=Object(i.a)(_,2),q=Y[0],Q=Y[1],W=Object(n.useState)([]),X=Object(i.a)(W,2),Z=X[0],$=X[1],ee=Object(n.useState)(a.rules?a.rules.id:null),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),ce=Object(i.a)(re,2),le=ce[0],se=ce[1],ue=Object(n.useState)(a.category?a.category.id:null),ie=Object(i.a)(ue,2),oe=ie[0],me=ie[1],pe=Object(n.useState)([]),fe=Object(i.a)(pe,2),ve=fe[0],be=fe[1],Ee=Object(n.useState)(a.series.map((function(e){return e.id}))),ge=Object(i.a)(Ee,2),he=ge[0],je=ge[1],Oe=Object(n.useState)([]),ye=Object(i.a)(Oe,2),Ne=ye[0],xe=ye[1],Ce=Object(n.useState)(a.language?a.language.id:null),Te=Object(i.a)(Ce,2),Le=Te[0],De=Te[1],Ae=Object(n.useState)(a.creatorName),Ke=Object(i.a)(Ae,2),Ue=Ke[0],Me=Ke[1],Ve=Object(n.useState)(a.creatorEmail),Pe=Object(i.a)(Ve,2),Je=Pe[0],Ie=Pe[1],Re=Object(n.useState)(null),Fe=Object(i.a)(Re,2),He=Fe[0],ze=Fe[1],Be=Object(n.useState)(null),Ge=Object(i.a)(Be,2),_e=Ge[0],Ye=Ge[1],qe=Object(n.useState)(null),Qe=Object(i.a)(qe,2),We=Qe[0],Xe=Qe[1],Ze=Object(n.useState)(null),$e=Object(i.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(n.useState)(null),nt=Object(i.a)(at,2),rt=nt[0],ct=nt[1],lt=Object(n.useState)(a.files||[]),st=Object(i.a)(lt,2),ut=st[0],it=st[1],ot=Object(n.useState)([]),mt=Object(i.a)(ot,2),pt=mt[0],dt=mt[1],ft=Object(n.useState)([]),vt=Object(i.a)(ft,2),bt=vt[0],Et=vt[1],gt=a.id;Object(n.useEffect)((function(){G.getRules().then((function(e){if($(e),a.rules&&a.rules.id){var t=e.find((function(e){return e.id===a.rules.id}));t&&se(t.acceptedCategories)}})),H.getSeries().then((function(e){be(e)})),de.getLanguages().then((function(e){xe(e)}))}),[]);var ht=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ze(null),Ye(null),Xe(null),tt(null),ct(null),j.length<1&&ze("Nimi ei saa olla tyhj\xe4"),S.length<1&&Ye("Teht\xe4v\xe4nanto ei saa olla tyhj\xe4"),Ue.length<1&&Xe("Lis\xe4\xe4j\xe4n nimi ei saa olla tyhj\xe4"),Je.length<1&&tt("Lis\xe4\xe4j\xe4n s\xe4hk\xf6posti ei saa olla tyhj\xe4"),""!==Le&&""!==ae&&""!==he&&""!==oe||ct("Valitsethan arvon kaikkiin pudotuskenttiin"),!(j.length<1||S.length<1||Ue.length<1||Je.length<1||""===Le||""===ae||""===he||""===oe)){e.next=13;break}return e.abrupt("return");case 13:if((a=new FormData).append("filesToDelete",bt),pt.length>0)for(n=0;n<pt.length;n++)a.append("filesToAdd",pt[n],pt[n].name);return r=[],e.prev=17,e.next=20,ke.updateFiles(a);case 20:return r=e.sent,e.next=23,P.updateTask({name:j,rule:ae,category:oe,series:he,language:Le,assignmentText:S,gradingScale:T,creatorName:Ue,creatorEmail:Je,supervisorInstructions:K,id:gt,assignmentTextMD:J,gradingScaleMD:z,supervisorInstructionsMD:q,files:ut.concat(r)});case 23:s=e.sent,console.log(s),m("Teht\xe4v\xe4 tallennettu!"),c(s),l(s),setTimeout((function(){m(null),window.location.reload()}),1e3),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(17),g("Jotain meni vikaan"),setTimeout((function(){g(null)}),5e3);case 35:case"end":return e.stop()}}),e,null,[[17,31]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"modify-task-container"},r.a.createElement("h2",null,"Muokkaa teht\xe4v\xe4\xe4"),r.a.createElement(f,{message:o,type:"success"}),r.a.createElement(f,{message:E,type:"error"}),r.a.createElement("form",{onSubmit:ht,className:"modify-form"},r.a.createElement("div",null,r.a.createElement(f,{message:He,type:"error"}),r.a.createElement("input",{className:"task-title",type:"text",defaultValue:j,name:"Name",placeholder:"Teht\xe4v\xe4n nimi",onChange:function(e){var t=e.target;return O(t.value)}})),r.a.createElement("div",null,r.a.createElement("h4",null,"Teht\xe4v\xe4nanto"),r.a.createElement(f,{message:_e,type:"error"}),r.a.createElement(Se,{setText:w,setMD:I,value:J,placeHolder:"Teht\xe4v\xe4nanto"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arvostelu"),r.a.createElement(Se,{setText:L,setMD:B,value:z,placeHolder:"Arvostelu"})),r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",null,"Rastimiehen ohje"),r.a.createElement(Se,{setText:U,setMD:Q,value:q,placeHolder:"Rastimiehen ohje"})),r.a.createElement(f,{message:rt,type:"error"}),r.a.createElement("div",{className:"dropdowns"},r.a.createElement("div",null,r.a.createElement("select",{multiple:!0,value:he,onChange:function(e){return function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&""!==t[n].value&&a.push(t[n].value);je(a)}(e)},className:"multiple-series"},r.a.createElement("option",{value:"",className:"series-info"},"Sarja (paina Ctrl, jos useita)"),ve.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("select",{value:ae,onChange:function(e){return function(e){if(ne(e.target.value),me(""),e.target.value){var t=Z.find((function(t){return t.id===e.target.value}));se(t.acceptedCategories)}else se([])}(e)}},r.a.createElement("option",{value:""},"S\xe4\xe4nn\xf6t"),Z.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:oe,onChange:function(e){return function(e){me(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kategoria"),le.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("select",{value:Le,onChange:function(e){return function(e){De(e.target.value)}(e)}},r.a.createElement("option",{value:""},"Kieli"),Ne.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"creator"},r.a.createElement("div",null,r.a.createElement(f,{message:We,type:"error"}),r.a.createElement("input",{className:"",type:"text",defaultValue:Ue,name:"CreatorName",placeholder:"Muokkaajan nimi",onChange:function(e){var t=e.target;return Me(t.value)}})),r.a.createElement("div",null,r.a.createElement(f,{message:et,type:"error"}),r.a.createElement("input",{className:"",type:"text",defaultValue:Je,name:"CreatorEmail",placeholder:"Muokkaajan s\xe4hk\xf6posti",onChange:function(e){var t=e.target;return Ie(t.value)}}))),r.a.createElement(we.a,{onDrop:function(e){dt(pt.concat(e))}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement("div",{className:"files"},r.a.createElement("div",{className:"title"},"Liitetiedostot"),ut&&ut.length>0&&r.a.createElement(r.a.Fragment,null,ut.map((function(e){return r.a.createElement("div",{key:e},e.substring(e.indexOf("-")+1,e.length),r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),it(ut.filter((function(e){return e!==t}))),Et(bt.concat(t))}(t,e)},className:"remove-file"}))}))),pt&&pt.length>0&&r.a.createElement(r.a.Fragment,null,pt.map((function(e){return r.a.createElement("div",{key:e.name},e.name,r.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),dt(pt.filter((function(e){return e.name!==t})))}(t,e.name)},className:"remove-file"}))})))))})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"save-task-button"},"Tallenna"),r.a.createElement("button",{onClick:function(){t(!1)},className:"return-button"},"Peruuta"))))},Me=function(e){var t=e.text;return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(t)}})},Ve=function(e){var t=e.match,a=e.user,c=e.addTaskToBasket,l=e.tasks,s=e.setTasks,u=e.handleUpdateTask,m=Object(n.useState)(null),p=Object(i.a)(m,2),d=p[0],v=p[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),g=E[0],h=E[1],k=Object(n.useState)(null),j=Object(i.a)(k,2),O=j[0],y=j[1],N=Object(n.useState)(null),S=Object(i.a)(N,2),w=S[0],x=S[1],C=Object(o.f)();Object(n.useEffect)((function(){P.getOneTask(t.params.id).then((function(e){v(e)}))}),[]);return r.a.createElement("div",null,g?r.a.createElement(Ue,{setModifyVisible:h,task:d,setTask:v,handleUpdateTask:u}):r.a.createElement("div",{className:"task-view-info-background"},r.a.createElement(f,{message:O,type:"success"}),r.a.createElement(f,{message:w,type:"error"}),d&&r.a.createElement("div",{className:"task-view-info"},r.a.createElement("div",null,r.a.createElement("h2",null,d.name),r.a.createElement("span",null,r.a.createElement("div",{className:"black-basket basket-task-view",title:"Lis\xe4\xe4 koriin",onClick:function(e){return c(e,d)}})),r.a.createElement(Ke,{task:d,tasks:l,setTasks:s})),r.a.createElement("h3",null,"Teht\xe4v\xe4nanto:"),r.a.createElement(Me,{text:d.assignmentText}),r.a.createElement("h3",null,"Rastimiehen ohjeet:"),r.a.createElement(Me,{text:d.supervisorInstructions}),r.a.createElement("h3",null,"Arvosteluasteikko:"),r.a.createElement(Me,{text:d.gradingScale}),r.a.createElement("h3",null,"Sarja:"),d.series.map((function(e){return r.a.createElement("span",{key:d.id+e.id},e.name,r.a.createElement("br",null))})),r.a.createElement("h3",null,"Kategoria:"),r.a.createElement("p",null,d.category&&d.category.name),r.a.createElement("h3",null,"S\xe4\xe4nt\xf6luokka:"),r.a.createElement("p",null,d.rules&&d.rules.name),r.a.createElement("h3",null,"Teht\xe4v\xe4n viimeisin muokkaaja:"),r.a.createElement("p",null,d.creatorName,r.a.createElement("br",null),d.creatorEmail),r.a.createElement("h3",null,"Teht\xe4v\xe4 lis\xe4tty:"),d.created&&r.a.createElement("p",null,r.a.createElement(te.a,{format:"DD.MM.YYYY HH:mm"},d.created)),r.a.createElement("h3",null,"Liitetiedostot:"),d.files&&0===d.files.length&&r.a.createElement("p",null,"-"),d.files&&d.files.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("a",{href:"https://kisapankki.blob.core.windows.net/files/".concat(e)},e.substring(e.indexOf("-")+1,e.length)))})),a&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){return h(!0)},className:"modify-view-button"},"Muokkaa"),d.pending&&r.a.createElement("button",{className:"accept-button",onClick:function(){return function(){try{P.acceptTask(d.id),y("Teht\xe4v\xe4 hyv\xe4ksytty"),setTimeout((function(){y(null),C.push("/admin")}),2e3)}catch(e){x("Jotain meni vikaan"),setTimeout((function(){x(null)}),5e3)}}()}},"Hyv\xe4ksy"),r.a.createElement("button",{className:"delete-button",onClick:function(){return function(){try{window.confirm("Haluatko poistaa teht\xe4v\xe4n: ".concat(d.name))&&(P.deleteTask(d.id),s(l.filter((function(e){return e.id!==d.id}))),y("Teht\xe4v\xe4 poistettu"),setTimeout((function(){y(null),d.pending?C.push("/admin"):C.push("/")}),2e3))}catch(e){x("Jotain meni vikaan"),setTimeout((function(){x(null)}),5e3)}}()}},"Poista")))))},Pe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),m=Object(i.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)(null),v=Object(i.a)(f,2),b=v[0],E=v[1],g=Object(o.f)();Object(n.useEffect)((function(){P.getTasks().then((function(e){d(e)}));var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);E(t),j(t.token)}if(!window.localStorage.getItem("votes")){window.localStorage.setItem("votes",JSON.stringify([]))}var a=window.localStorage.getItem("basket");if(a){var n=JSON.parse(a);c(n)}}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("basket",JSON.stringify(a))}),[a]);var h=function(e,t){e.preventDefault(),e.stopPropagation(),a.find((function(e){return e.id===t.id}))||c(a.concat(t))},k=function(e){c(a.filter((function(t){return t.id!==e})))},y=function(){c([])},N=function(e){P.updateViews(e).then((function(t){d(p.map((function(t){return t.id!==e?t:Object(u.a)({},t,{views:t.views+1})}))),c(a.map((function(t){return t.id!==e?t:Object(u.a)({},t,{views:t.views+1})})))}))},w=function(e){d(p.map((function(t){return t.id!==e.id?t:e}))),c(a.map((function(t){return t.id!==e.id?t:e})))};return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(s.b,{to:"/"},r.a.createElement("div",{className:"logo"})),r.a.createElement(s.b,{to:"/tehtavat"},r.a.createElement("button",{className:"addtask-button-header"},"Teht\xe4v\xe4t")),r.a.createElement(s.b,{to:"/lisaa_tehtava"},r.a.createElement("button",{className:"addtask-button-header"},"Lis\xe4\xe4 teht\xe4v\xe4")),null===b?r.a.createElement(n.Fragment,null,r.a.createElement(s.b,{to:"/kirjautuminen"},r.a.createElement("button",{className:"login-button-header"},"Kirjaudu"))):r.a.createElement(n.Fragment,null,r.a.createElement(s.b,{to:"/admin"},r.a.createElement("button",{className:"admin-button-header"},"Admin")),r.a.createElement("div",null,r.a.createElement("div",{className:"logged"},"Kirjautuneena ",r.a.createElement(s.b,{to:"/omasivu",className:"username-header"},b.username)),r.a.createElement("div",{className:"logout"},r.a.createElement("button",{className:"logout-button-header",onClick:function(){return window.localStorage.removeItem("loggedUser"),E(null),j(null),g.push("/"),void window.location.reload()}},"Kirjaudu ulos")))),r.a.createElement(s.b,{to:"/valitut_tehtavat"},r.a.createElement("div",{className:"white-basket"},a.length>0&&r.a.createElement("span",{className:"number-of-tasks-in-basket"},a.length)))),r.a.createElement("div",{className:"admin-task-buttons-mobile"},r.a.createElement(s.b,{to:"/tehtavat"},r.a.createElement("button",{className:"addtask-button-mobile"},"Teht\xe4v\xe4t")),r.a.createElement(s.b,{to:"/lisaa_tehtava"},r.a.createElement("button",{className:"addtask-button-mobile"},"Lis\xe4\xe4 teht\xe4v\xe4")),null!==b&&r.a.createElement(s.b,{to:"/admin"},r.a.createElement("button",{className:"admin-button-mobile"},"Admin"))),r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{exact:!0,path:"/",render:function(){return r.a.createElement(S,{tasks:p,addTaskToBasket:h,handleUpdateViews:N})}}),r.a.createElement(o.b,{exact:!0,path:"/tehtava/:id",render:function(e){return r.a.createElement(Ve,Object.assign({},e,{user:b,addTaskToBasket:h,tasks:p,setTasks:d,handleUpdateTask:w}))}}),r.a.createElement(o.b,{path:"/tehtavat",render:function(){return r.a.createElement(ae,{user:b,originalTasks:p,setOriginalTasks:d,addTaskToBasket:h,handleUpdateViews:N})}}),r.a.createElement(o.b,{path:"/valitut_tehtavat",render:function(){return r.a.createElement(ne,{tasks:a,removeTaskFromBasket:k,handleUpdateViews:N,removeAllFromBasket:y})}}),r.a.createElement(o.b,{path:"/kirjautuminen",render:function(){return r.a.createElement(O,{setUser:E})}}),r.a.createElement(o.b,{path:"/lisaa_tehtava",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(o.b,{path:"/omasivu",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(Ae,{user:b,setUser:E}):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/admin",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(Te,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/lisaa_admin",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(se,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/lisaa_pudotusvalikkoon",render:function(){return localStorage.getItem("loggedUser")?r.a.createElement(ge,null):r.a.createElement(o.a,{to:"/"})}})))};a(389);l.a.render(r.a.createElement(s.a,null,r.a.createElement(Pe,null)),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.4a3f8d86.chunk.js.map